(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{339:function(e,t,n){},565:function(e,t,n){},566:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(20),i=n.n(r),c=(n(339),n(634)),o=n(301),s=Object(o.a)({typography:{fontFamily:'"Spartan", sans-serif',fontSize:12,button:{textTransform:"none",fontWeight:700}},palette:{common:{black:"#000",white:"#fff"},primary:{main:"#000"},secondary:{main:"#DCDCDC"}},shape:{borderRadius:5}}),l=n(17),d=n(31),u=n(630),j=n(307),b=n(650),h=n(629),m=n(74),p=n(73),f=Object(p.a)((function(){return{root:{minHeight:"100vh","& .MuiInput-underline:before":{borderBottom:"1.2px solid rgba(0, 0, 0, 0.2)"},display:"flex",justifyContent:"center"},navbar:{display:"flex",justifyContent:"space-between",backgroundColor:"black",color:"white"},loginContainer:{maxHeight:"75vh",marginTop:"5vh"},authWrapper:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",flexDirection:"column",minHeight:"100vh",paddingTop:23},welcome:{fontSize:"3em",paddingBottom:20,color:"#000000",fontWeight:900,fontFamily:"'Open Sans'"}}})),x=n(6),g=n.n(x),O=n(9),v=function(){var e=Object(O.a)(g.a.mark((function e(t,n){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n}),credentials:"include"},e.next=3,fetch("/api/auth/login",a).then((function(e){return e.json()})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=n(569),y=n(309),C=n(42),N=n(16),k=Object(p.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(1),display:"flex",flexDirection:"column",justifyContent:"space-around"},textField:{margin:0,border:"0.5 solid rgba(0, 0, 0, .1)"},label:{fontSize:"1em",color:"rgb(0,0,0,0.7)",paddingLeft:"5px"},inputs:{margin:".4rem 0",height:"2rem",padding:"5px"},forgot:{paddingRight:10,color:"#3a8dff"},submit:{margin:e.spacing(3,2,2),padding:10,width:160,height:56,borderRadius:0,marginTop:49,fontSize:16,backgroundColor:"#000",fontWeight:"bold"},reset:{textDecoration:"none",color:"rgb(6,69,173)","&:hover":{textDecoration:"underline"}}}})),S=n(626),T=n(276),I=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tokenId:t}),credentials:"include"},e.next=3,fetch("/api/auth/google-login",n).then((function(e){return e.json()})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=n(1);function D(e){var t=e.handleSubmit,n=e.handleDemoSubmit,a=k(),r=function(e){I(e.tokenObj.id_token),location.reload()},i=function(e){if(!e)throw new Error("Could not connect to server, please try again")};return Object(P.jsx)(C.a,{initialValues:{email:"",password:""},validationSchema:N.d().shape({email:N.f().required("Email is required").email("Email is not valid"),password:N.f().required("Password is required").max(100,"Password is too long").min(6,"Password too short")}),onSubmit:t,children:function(e){var t=e.handleSubmit,c=e.handleChange,o=e.values,s=e.touched,d=e.errors,u=e.isSubmitting;return Object(P.jsxs)("form",{onSubmit:t,className:a.form,noValidate:!0,children:[Object(P.jsxs)(b.a,{mt:3,mb:3,children:[Object(P.jsx)(m.a,{className:a.label,children:"E-mail"}),Object(P.jsx)(y.a,{id:"email",placeholder:"Enter e-mail address",fullWidth:!0,margin:"normal",className:a.textField,InputProps:{classes:{input:a.inputs}},name:"email",autoComplete:"email",autoFocus:!0,helperText:s.email?d.email:"",error:s.email&&Boolean(d.email),value:o.email,onChange:c})]}),Object(P.jsxs)(b.a,{mt:3,mb:3,children:[Object(P.jsx)(m.a,{className:a.label,children:"Password"}),Object(P.jsx)(y.a,{id:"password",placeholder:"Enter password",fullWidth:!0,margin:"normal",className:a.textField,InputProps:{classes:{input:a.inputs}},type:"password",autoComplete:"current-password",helperText:s.password?d.password:"",error:s.password&&Boolean(d.password),value:o.password,onChange:c})]}),Object(P.jsx)(b.a,{children:Object(P.jsx)(l.b,{className:a.reset,to:"/forgot-password",children:"Forgot Password?"})}),Object(P.jsxs)(b.a,{textAlign:"center",children:[Object(P.jsx)(w.a,{type:"submit",size:"large",variant:"contained",color:"primary",className:a.submit,children:u?Object(P.jsx)(S.a,{style:{color:"white"}}):"SIGN IN"}),Object(P.jsx)(w.a,{onClick:function(){return n({email:"stanley@gmail.com",password:"123456"})},size:"large",variant:"contained",color:"primary",className:a.submit,children:u?Object(P.jsx)(S.a,{style:{color:"white"}}):"DEMO"}),Object(P.jsx)(T.GoogleLogin,{clientId:"957246139636-2mjg8o2ggfn63l16t9n95u3qi840shk9.apps.googleusercontent.com",buttonText:"Sign In With Google",onSuccess:r,onFailure:i,cookiePolicy:"single_host_origin"})]}),Object(P.jsx)("div",{style:{height:95}})]})}})}var W=n(11),z=Object(p.a)((function(e){var t,n,a;return{authHeader:(t={justifyContent:"space-between",alignItems:"center",display:"flex",flexWrap:"wrap",backgroundColor:"black",padding:"2.5rem"},Object(W.a)(t,e.breakpoints.down("md"),{justifyContent:"center",padding:"1.5rem"}),Object(W.a)(t,"flex",1),t),tattooArt:(n={fontSize:"2em",marginLeft:20,letterSpacing:".4em",textTransform:"uppercase"},Object(W.a)(n,e.breakpoints.down("md"),{margin:"0 25 0 24",display:"flex",justifyContent:"center",textAlign:"center",width:"100%"}),Object(W.a)(n,e.breakpoints.down("xs"),{margin:0}),n),linkContainer:(a={justifyContent:"space-between"},Object(W.a)(a,e.breakpoints.down("md"),{justifyContent:"center",marginLeft:49}),Object(W.a)(a,e.breakpoints.down("xs"),{marginLeft:0}),a),navLink:{"&:hover":{cursor:"pointer"},padding:5,textDecoration:"none"},loginButton:Object(W.a)({color:"white",border:"1px solid white",marginRight:20,borderRadius:0,width:"10rem",textTransform:"uppercase"},e.breakpoints.down("sm"),{margin:"20px 51px 0 51px"}),createContestBtn:{borderRadius:0,border:"1px solid white",color:"white",width:"10rem","&:hover":{backgroundColor:"white",color:"black"}}}})),B=n(8),E=function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",credentials:"include"},e.next=3,fetch("/api/auth/user",t).then((function(e){return e.json()})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",credentials:"include"},e.next=3,fetch("/api/auth/logout",t).then((function(e){return e.json()})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=Object(a.createContext)({loggedInUser:void 0,updateLoginContext:function(){return null},logout:function(){return null}}),M=function(e){var t=e.children,n=Object(a.useState)(),r=Object(B.a)(n,2),i=r[0],c=r[1],o=Object(d.g)(),s=Object(d.h)().pathname,l=Object(a.useCallback)((function(e){c(e.user),o.push("/dashboard")}),[o]),u=Object(a.useCallback)(Object(O.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A().then((function(){o.push("/dashboard"),c(null)})).catch((function(e){return console.error(e)}));case 2:case"end":return e.stop()}}),e)}))),[o]);return Object(a.useEffect)((function(){(function(){var e=Object(O.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E().then((function(e){if(e.success)l(e.success),o.push("/dashboard");else{if(c(null),s.includes("/reset-password")||s.includes("/login")||s.includes("/forgot-password")||s.includes("/signup")||s.includes("/contest/:id"))return;o.push("/dashboard")}}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[l]),Object(P.jsx)(L.Provider,{value:{loggedInUser:i,updateLoginContext:l,logout:u},children:t})};function R(){return Object(a.useContext)(L)}var F=n(657),_=function(e){var t=e.user;return Object(P.jsx)(F.a,{alt:"Profile Image",src:t.profilePic||"https://robohash.org/".concat(t.email,".png")})},U=n(308),G=n(302),Y=n(627),q=n(277),H=n.n(q),V=Object(p.a)((function(e){return{container:{marginLeft:20},account:{"&:hover":{cursor:"pointer"}},link:{textDecoration:"none",color:"black"},menuItem:{display:"flex",justifyContent:"center",padding:"15px 70px","&:hover":{border:"1px solid white",backgroundColor:"black",color:"white"}}}})),J=function(){var e=R().loggedInUser,t=Object(a.useState)(null),n=Object(B.a)(t,2),r=n[0],i=n[1],c=Boolean(r),o=R().logout,s=V(),d=function(){i(null)};return Object(P.jsxs)(b.a,{display:"flex",alignItems:"center",className:s.container,children:[Object(P.jsxs)(b.a,{display:"flex",alignItems:"center",onClick:function(e){i(e.currentTarget)},className:s.account,children:[Object(P.jsx)(m.a,{color:"secondary",children:"Account"}),Object(P.jsx)(U.a,{"aria-label":"show auth menu","aria-controls":"auth-menu","aria-haspopup":"true",color:"secondary",children:Object(P.jsx)(H.a,{})})]}),Object(P.jsxs)(G.a,{id:"auth-menu",anchorEl:r,keepMounted:!0,open:c,onClose:d,anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null,children:[Object(P.jsx)(l.b,{className:s.link,to:"/profile",children:Object(P.jsx)(Y.a,{className:s.menuItem,children:"Profile"})}),Object(P.jsx)(l.b,{className:s.link,to:{pathname:"/artist",state:"".concat(null===e||void 0===e?void 0:e.id)},children:Object(P.jsx)(Y.a,{className:s.menuItem,children:"About"})}),Object(P.jsx)(l.b,{className:s.link,to:"/settings",children:Object(P.jsx)(Y.a,{className:s.menuItem,children:"Settings"})}),Object(P.jsx)(Y.a,{onClick:function(){d(),o()},style:{marginTop:-7},className:s.menuItem,children:"Logout"})]})]})},$=Object(p.a)((function(e){return{typography:{padding:e.spacing(2),fontSize:15,fontWeight:"bold",paddingBottom:"0"},authHeaderText:{marginRight:10},poptitle:{margin:"15px",fontWeight:"bold",fontSize:25},time:{marginLeft:15,marginBottom:20},avatar:{height:45,width:e.spacing(6),marginTop:15,marginLeft:15},seeAll:{marginLeft:70,marginTop:50,fontSize:15},popUpBox:{top:"15px !important",height:"80%"},notificationContainer:{"&:hover":{backgroundColor:"black",color:"#fff"}},link:{textDecoration:"none",color:"black"},badge:{}}})),K=n(279),Z=n.n(K),Q=n(628),X=n(623),ee=n(7),te=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)},e.next=3,fetch("/api/notification",n).then((function(e){return e.json()})).catch((function(e){return{error:{message:"Unable to send notification",err:e}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"},e.next=3,fetch("/api/notification",t).then((function(e){return e.json()})).catch((function(e){return{error:{message:"Unable to get notifications",err:e}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.opened=!0,n={method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)},e.next=4,fetch("/api/notification/update/".concat(t._id),n).then((function(e){return e.json()})).catch((function(e){return{error:{message:"Unable to update notifications",err:e}}}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"},e.next=3,fetch("/api/notification/".concat(t),n).then((function(e){return e.status})).catch((function(e){return e}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=n(28),ce=n(278),oe=Object(a.createContext)({socket:void 0,initSocket:function(){return null},socketNotification:void 0,message:void 0}),se=function(e){var t=e.children,n=Object(a.useState)(void 0),r=Object(B.a)(n,2),i=r[0],c=r[1],o=Object(a.useState)(),s=Object(B.a)(o,2),l=s[0],d=s[1],u=Object(a.useState)(),j=Object(B.a)(u,2),b=j[0],h=j[1],m=Object(a.useCallback)((function(){console.log("trying to connect"),c(Object(ce.io)("/",{withCredentials:!0}))}),[]);return Object(a.useEffect)((function(){null===i||void 0===i||i.on("getNotification",(function(e){d(e)}))})),Object(a.useEffect)((function(){null===i||void 0===i||i.on("receive-message",(function(e){h(e)}))})),Object(P.jsx)(oe.Provider,{value:{socket:i,initSocket:m,message:b,socketNotification:l},children:t})};function le(){return Object(a.useContext)(oe)}var de=Object(a.createContext)({notifications:[],setNotifications:function(){}}),ue=function(e){var t=e.children,n=Object(a.useState)([]),r=Object(B.a)(n,2),i=r[0],c=r[1],o=Object(a.useContext)(oe).socketNotification;return Object(a.useEffect)((function(){function e(){return(e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne();case 2:(t=e.sent)?c(t):new Error("Notifications not found");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){if(o){var e=i.length?[].concat(Object(ie.a)(i),[o]):[o];c(e)}}),[o]),(null===i||void 0===i?void 0:i.length)&&(null===i||void 0===i||i.sort((function(e,t){return new Date(t.createdAt).valueOf()-new Date(e.createdAt).valueOf()}))),Object(P.jsx)(de.Provider,{value:{notifications:i,setNotifications:c},children:t})},je=Object(ee.a)({"@global":{".MuiPopover-paper":{paddingBottom:40},"*::-webkit-scrollbar":{width:"0px"},".badge.MuiSvgIcon-root":{background:"black"},".MuiBadge-badge.MuiBadge-anchorOriginTopRightRectangle.MuiBadge-colorSecondary ":{fontWeight:"bold",fontSize:"13px",backgroundColor:"#fff"}}})((function(){return null})),be=function(){var e=Object(a.useContext)(de).notifications,t=$(),n=Object(a.useState)(null),r=Object(B.a)(n,2),i=r[0],c=r[1],o=Boolean(i),s=o?"simple-popover":void 0,d=(null===e||void 0===e?void 0:e.length)?null===e||void 0===e?void 0:e.filter((function(e){return!1===e.opened})):[],u=function(e){var t=new Date(e),n=Math.abs(t.valueOf()-(new Date).valueOf()),a=Math.ceil(n/864e5),r=Math.ceil(n/36e5),i=Math.ceil(n/6e4),c=Math.ceil(n/1e3);return c<=1&&i<=1&&r<=1&&a<=1?"1 second ago":c>1&&i<=1&&r<=1&&a<=1?"".concat(c," seconds ago"):c>=60&&i<=2&&r<=1&&a<=1?"1 minute ago":i>1&&r<=1&&a<=1?"".concat(i," minutes ago"):r<=2&&a<=1&&i>=60?"1 hour ago":r>1&&a<=1?"".concat(r," hours ago"):r>=24&&a<=2?"1 day ago":"".concat(a," days ago")};return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(je,{}),Object(P.jsxs)(w.a,{"aria-describedby":s,variant:"contained",color:"primary",onClick:function(e){d.length&&(null===d||void 0===d||d.map(function(){var e=Object(O.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),c(e.currentTarget)},children:[Object(P.jsx)(m.a,{className:t.authHeaderText,color:"secondary",children:"Notifications"}),Object(P.jsx)(Q.a,{badgeContent:(null===e||void 0===e?void 0:e.length)&&d.length,className:t.badge,color:"secondary",children:Object(P.jsx)(Z.a,{style:{color:"#fff"}})})]}),Object(P.jsxs)(X.a,{id:s,open:o,anchorEl:i,onClose:function(){c(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},className:t.popUpBox,children:[Object(P.jsxs)(h.a,{direction:"row",container:!0,children:[Object(P.jsx)(h.a,{item:!0,children:Object(P.jsx)(m.a,{variant:"h5",className:t.poptitle,children:"Notifications"})}),Object(P.jsx)(h.a,{item:!0,children:Object(P.jsx)(l.b,{to:{pathname:"/notifications"},style:{textDecoration:"none"},children:Object(P.jsx)(w.a,{className:t.seeAll,children:"See All"})})})]}),(null===e||void 0===e?void 0:e.length)?null===e||void 0===e?void 0:e.map((function(e){return Object(P.jsx)(l.b,{to:e.contestId?"/contest/".concat(e.contestId):"/dashboard",className:t.link,children:Object(P.jsxs)(h.a,{direction:"row",container:!0,className:t.notificationContainer,children:[Object(P.jsx)(h.a,{item:!0,children:Object(P.jsx)(F.a,{alt:"Profile Image",src:e.profilePic,className:t.avatar})}),Object(P.jsxs)(h.a,{item:!0,children:[Object(P.jsx)(m.a,{className:t.typography,children:e.notification},e._id),Object(P.jsx)(m.a,{className:t.time,children:u(e.createdAt)},e.notification)]})]})},e._id)})):Object(P.jsx)(m.a,{align:"center",children:"You do not have any notification"})]})]})},he=function(e){var t=e.linkTo,n=e.btnText,a=z(),r=R().loggedInUser;return Object(P.jsxs)(b.a,{p:1,className:a.authHeader,children:[Object(P.jsx)(l.b,{to:"/dashboard",className:a.navLink,children:Object(P.jsx)(m.a,{color:"secondary",className:a.tattooArt,children:"Tattoo Art"})}),r?Object(P.jsxs)(b.a,{display:"flex",justifyContent:"space-between",alignItems:"center",minWidth:"55vw",flexWrap:"wrap",className:a.linkContainer,children:[Object(P.jsx)(l.b,{to:"/discovery",style:{textDecoration:"none"},children:Object(P.jsx)(m.a,{className:a.navLink,color:"secondary",display:"inline",children:"Discover"})}),Object(P.jsx)(l.b,{to:"/messages",style:{textDecoration:"none"},children:Object(P.jsx)(m.a,{className:a.navLink,color:"secondary",display:"inline",children:"Messages"})}),Object(P.jsx)(m.a,{className:a.navLink,color:"secondary",display:"inline",children:Object(P.jsx)(be,{})}),Object(P.jsx)(l.b,{to:t,style:{textDecoration:"none"},children:Object(P.jsx)(w.a,{className:a.createContestBtn,size:"large",children:"Create Contest"})}),Object(P.jsxs)(b.a,{display:"flex",alignItems:"center",children:[Object(P.jsx)(_,{user:r,loggedIn:!0}),Object(P.jsx)(J,{})]})]}):Object(P.jsx)(l.b,{to:t,style:{textDecoration:"none"},children:Object(P.jsx)(w.a,{className:a.loginButton,size:"large",children:n})})]})},me=n(655),pe=n(280),fe=n.n(pe),xe=Object(a.createContext)({updateSnackBarMessage:function(){return null}}),ge=function(e){var t=e.children,n=Object(a.useState)(null),r=Object(B.a)(n,2),i=r[0],c=r[1],o=Object(a.useState)(!1),s=Object(B.a)(o,2),l=s[0],d=s[1],u=Object(a.useCallback)((function(e){c(e),d(!0)}),[]),j=Object(a.useCallback)((function(){d(!1)}),[]),b=Object(a.useCallback)((function(e,t){"clickaway"!==t&&d(!1)}),[]);return Object(P.jsxs)(xe.Provider,{value:{updateSnackBarMessage:u},children:[t,Object(P.jsx)(me.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:l,autoHideDuration:6e3,onClose:b,message:i,action:Object(P.jsx)(U.a,{size:"small","aria-label":"close",color:"inherit",onClick:j,children:Object(P.jsx)(fe.a,{fontSize:"small"})})})]})};function Oe(){return Object(a.useContext)(xe)}function ve(){var e=f(),t=R().updateLoginContext,n=Oe().updateSnackBarMessage;return Object(P.jsxs)(h.a,{container:!0,component:"main",className:e.root,children:[Object(P.jsx)(u.a,{}),Object(P.jsx)(h.a,{item:!0,xs:12,children:Object(P.jsx)(he,{linkTo:"/signup",btnText:"sign up"})}),Object(P.jsx)(h.a,{item:!0,xs:12,sm:8,md:7,elevation:6,component:j.a,square:!0,className:e.loginContainer,children:Object(P.jsxs)(b.a,{className:e.authWrapper,children:[Object(P.jsxs)(b.a,{width:"100%",maxWidth:450,p:3,alignSelf:"center",children:[Object(P.jsx)(h.a,{container:!0,children:Object(P.jsx)(h.a,{item:!0,xs:!0,children:Object(P.jsx)(m.a,{align:"center",className:e.welcome,component:"h1",variant:"h5",children:"sign in"})})}),Object(P.jsx)(D,{handleSubmit:function(e,a){var r=e.email,i=e.password,c=a.setSubmitting;v(r,i).then((function(e){e.error?(c(!1),n(e.error.message)):e.success?t(e.success):(console.error({data:e}),c(!1),n("An unexpected error occurred. Please try again"))}))},handleDemoSubmit:function(e){var a=e.email,r=e.password;v(a,r).then((function(e){e.error?n(e.error.message):e.success?t(e.success):(console.error({data:e}),n("An unexpected error occurred. Please try again"))}))}})]}),Object(P.jsx)(b.a,{p:1,alignSelf:"center"})]})})]})}var we=Object(p.a)((function(e){return{paperContainer:{height:"65vh",display:"flex",flexDirection:"column",flexWrap:"nowrap",alignItems:"center"},previewPic:{width:150,height:150,margin:"20px 20px 0"},uploadBox:{display:"flex",height:"100%",width:"100%",flexDirection:"column",alignItems:"center",margin:"40px 0"},header:Object(W.a)({margin:"3rem 0 2rem",textAlign:"center"},e.breakpoints.down("md"),{margin:"1rem 0"}),icon:{fontSize:"10rem"},fileInputLabel:{"&:hover":{cursor:"pointer"},height:"100%",width:"100%",marginBottom:"5rem"},fileInput:{display:"none"},chooseFile:{marginTop:".5rem",marginBottom:"2rem",textAlign:"center"},mutedText:{color:"rgba(0, 0, 0, .5)"},uploadBtn:{backgroundColor:"white",border:"2px solid black",color:"black",textTransform:"uppercase",width:"15rem",borderRadius:0,padding:"25px 0","&:hover":{backgroundColor:"black",color:"white"}}}})),ye=n(281),Ce=n.n(ye),Ne=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",credentials:"include",body:t},e.next=3,fetch("/api/upload/submission",n).then((function(e){return e.json()})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(O.a)(g.a.mark((function e(t,n){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch("/api/submission/".concat(n),a).then((function(e){return e.json()})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Se=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"},e.next=3,fetch("/api/submission/".concat(t),n).then((function(e){return e.json()})).catch((function(e){return{error:{message:"Could not find Contest."}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"},e.next=3,fetch("/api/submission/artist/".concat(t),n).then((function(e){return e.json()})).catch((function(e){return{error:{message:"Could not get submission."}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=n(92),Pe=n.n(Ie),De=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",credentials:"include",body:t},e.next=3,fetch("/api/upload/contest",n).then((function(e){return e.json()})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=function(){var e=Object(O.a)(g.a.mark((function e(t){var n,a,r,i=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:10,a=i.length>2&&void 0!==i[2]?i[2]:0,r={method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"},e.next=5,fetch("/api/contest/?deadlineDate=".concat(t,"&howMany=").concat(n,"&page=").concat(a),r).then((function(e){return e.json()})).catch((function(e){return{error:{message:"Cannot connect to server"}}}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"},e.next=3,fetch("/api/contest/num",t).then((function(e){return e.json()})).catch((function(e){return{error:{message:"Cannot connect to server"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Be=function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"},e.next=3,fetch("/api/users/contests",t).then((function(e){return e.json()})).catch((function(e){return{error:{message:"Could not find User Contests"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"},e.next=3,fetch("/api/contest/".concat(t),n).then((function(e){return e.json()})).catch((function(e){return{error:{message:"Could not find Contest."}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(O.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe.a.post("/contest",t).then((function(e){return e.data})).catch((function(){return{error:{message:"Cannot create contest, Please make sure you have added a credit card to your profile."}}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(O.a)(g.a.mark((function e(t,n){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({winningPic:t})},e.next=3,fetch("/api/contest/".concat(n),a).then((function(e){return e.json()})).catch((function(e){return{error:{message:"Could not complete Contest."}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function Me(){var e=R().loggedInUser,t=le().socket,n=Object(a.useState)([]),r=Object(B.a)(n,2),i=r[0],c=r[1],o=Object(a.useState)(!1),s=Object(B.a)(o,2),l=s[0],p=s[1],f=we(),x=Object(d.i)(),v=Oe().updateSnackBarMessage,y=Object(d.g)(),C=function(){var e=Object(O.a)(g.a.mark((function e(t){var n,a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.files){e.next=15;break}for(p(!0),e.prev=2,n=new FormData,a=0;a<t.target.files.length;a++)n.append("image",t.target.files[a],t.target.files[a].name);return e.next=7,Ne(n);case 7:r=e.sent,c([r].concat(Object(ie.a)(i))),p(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var n=Object(O.a)(g.a.mark((function n(){var a,r,c;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ke(i,x.id);case 3:if(!n.sent){n.next=15;break}return v("Successfully submitted design".concat(i.length>1?"s":"")),n.next=8,Ee(x.id);case 8:return a=n.sent,r={to:a.userId,notification:"".concat(null===e||void 0===e?void 0:e.username," submitted in your contest"),contestId:x.id},n.next=12,te(r);case 12:c=n.sent,null===t||void 0===t||t.emit("sendNotification",c),y.push("/contest/".concat(x.id));case 15:n.next=20;break;case 17:n.prev=17,n.t0=n.catch(0),v(n.t0.message);case 20:case"end":return n.stop()}}),n,null,[[0,17]])})));return function(){return n.apply(this,arguments)}}();return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(he,{linkTo:"/create-contest",btnText:"create contest"}),Object(P.jsx)(u.a,{}),Object(P.jsx)(h.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(P.jsxs)(h.a,{container:!0,xs:6,className:f.paperContainer,children:[Object(P.jsx)(b.a,{children:l?Object(P.jsx)(S.a,{}):i.map((function(e){return Object(P.jsx)("img",{src:e,alt:"".concat(e,"tattoo"),className:f.previewPic},e)}))}),Object(P.jsxs)("label",{htmlFor:"file",className:f.fileInputLabel,children:[Object(P.jsx)("input",{type:"file",accept:"image/*",id:"file",name:"image",multiple:!1,onChange:C,className:f.fileInput}),Object(P.jsxs)(j.a,{elevation:3,className:f.uploadBox,children:[Object(P.jsx)(m.a,{variant:"h3",className:f.header,children:"Submit design"}),Object(P.jsx)(Ce.a,{fontSize:"large",className:f.icon}),Object(P.jsx)(m.a,{variant:"h5",className:f.chooseFile,children:"Click to choose a file"}),Object(P.jsx)(m.a,{className:f.mutedText,children:"High resolution images"}),Object(P.jsx)(m.a,{className:f.mutedText,children:"PNG, JPG, GIF"})]})]}),Object(P.jsx)(w.a,{disabled:!!l,className:f.uploadBtn,onClick:N,children:l?Object(P.jsx)(S.a,{}):"Submit"})]})})]})}var Re=Object(p.a)((function(){return{root:{minHeight:"100vh","& .MuiInput-underline:before":{borderBottom:"1.2px solid rgba(0, 0, 0, 0.2)"},display:"flex",justifyContent:"center"},authWrapper:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",flexDirection:"column",minHeight:"100vh",paddingTop:23},loginContainer:{margin:"5vh 0"},welcome:{fontSize:"3em",paddingBottom:20,color:"#000000",fontWeight:900,fontFamily:"'Open Sans'"}}})),Fe=function(){var e=Object(O.a)(g.a.mark((function e(t,n,a){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,email:n,password:a}),credentials:"include"},e.next=3,fetch("/api/auth/register",r).then((function(e){return e.json()})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),_e=Object(p.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(1),display:"flex",flexDirection:"column",justifyContent:"space-around"},textField:{margin:0,border:"0.5 solid rgba(0, 0, 0, .1)"},label:{fontSize:"1em",color:"rgb(0,0,0,0.7)",paddingLeft:"5px"},inputs:{margin:".4rem 0",height:"2rem",padding:"5px",borderRadius:0},forgot:{paddingRight:10,color:"#3a8dff"},submit:{margin:e.spacing(3,2,2),padding:10,width:160,height:56,marginTop:49,fontSize:16,backgroundColor:"#000",fontWeight:"bold",borderRadius:0,color:"white"}}})),Ue=function(e){var t=e.handleSubmit,n=e.handleDemoSubmit,a=_e();return Object(P.jsx)(C.a,{initialValues:{email:"",password:"",username:""},validationSchema:N.d().shape({username:N.f().required("Username is required").max(40,"Username is too long"),email:N.f().required("Email is required").email("Email is not valid"),password:N.f().required("Password is required").max(100,"Password is too long").min(6,"Password too short")}),onSubmit:t,children:function(e){var t=e.handleSubmit,r=e.handleChange,i=e.values,c=e.touched,o=e.errors,s=e.isSubmitting;return Object(P.jsxs)("form",{onSubmit:t,className:a.form,noValidate:!0,children:[Object(P.jsxs)(b.a,{mt:3,mb:3,children:[Object(P.jsx)(m.a,{className:a.label,children:"Username"}),Object(P.jsx)(y.a,{id:"username",fullWidth:!0,placeholder:"Enter your name",margin:"normal",InputProps:{classes:{input:a.inputs}},name:"username",autoComplete:"username",className:a.textField,autoFocus:!0,helperText:c.username?o.username:"",error:c.username&&Boolean(o.username),value:i.username,onChange:r})]}),Object(P.jsxs)(b.a,{mt:3,mb:3,children:[Object(P.jsx)(m.a,{className:a.label,children:"E-mail"}),Object(P.jsx)(y.a,{id:"email",placeholder:"Enter e-mail address",fullWidth:!0,margin:"normal",InputProps:{classes:{input:a.inputs}},className:a.textField,name:"email",autoComplete:"email",helperText:c.email?o.email:"",error:c.email&&Boolean(o.email),value:i.email,onChange:r})]}),Object(P.jsxs)(b.a,{mt:3,mb:3,children:[Object(P.jsx)(m.a,{className:a.label,children:"Password"}),Object(P.jsx)(y.a,{id:"password",placeholder:"Enter password",fullWidth:!0,margin:"normal",InputProps:{classes:{input:a.inputs}},type:"password",className:a.textField,autoComplete:"current-password",helperText:c.password?o.password:"",error:c.password&&Boolean(o.password),value:i.password,onChange:r})]}),Object(P.jsxs)(b.a,{textAlign:"center",children:[Object(P.jsx)(w.a,{type:"submit",size:"large",variant:"contained",color:"primary",className:a.submit,children:s?Object(P.jsx)(S.a,{style:{color:"white"}}):"SIGN IN"}),Object(P.jsx)(w.a,{onClick:function(){return n({email:"stanley@gmail.com",username:"stanleythemanly",password:"123456"})},size:"large",variant:"contained",color:"primary",className:a.submit,children:s?Object(P.jsx)(S.a,{style:{color:"white"}}):"DEMO"})]})]})}})};function Ge(){var e=Re(),t=R().updateLoginContext,n=Oe().updateSnackBarMessage;return Object(P.jsxs)(h.a,{container:!0,component:"main",className:e.root,children:[Object(P.jsx)(u.a,{}),Object(P.jsx)(h.a,{item:!0,xs:12,children:Object(P.jsx)(he,{linkTo:"/login",btnText:"SIGN IN"})}),Object(P.jsx)(h.a,{item:!0,xs:12,sm:7,elevation:6,component:j.a,square:!0,className:e.loginContainer,children:Object(P.jsxs)(b.a,{className:e.authWrapper,children:[Object(P.jsxs)(b.a,{width:"100%",maxWidth:450,p:3,alignSelf:"center",children:[Object(P.jsx)(h.a,{container:!0,children:Object(P.jsx)(h.a,{item:!0,xs:!0,children:Object(P.jsx)(m.a,{align:"center",className:e.welcome,component:"h1",variant:"h5",children:"Sign up"})})}),Object(P.jsx)(Ue,{handleSubmit:function(e,a){var r=e.username,i=e.email,c=e.password,o=a.setSubmitting;Fe(r,i,c).then((function(e){e.error?(console.error({error:e.error.message}),o(!1),n(e.error.message)):e.success?t(e.success):(console.error({data:e}),o(!1),n("An unexpected error occurred. Please try again"))}))},handleDemoSubmit:function(e){var a=e.email,r=e.password;v(a,r).then((function(e){e.error?n(e.error.message):e.success?t(e.success):(console.error({data:e}),n("An unexpected error occurred. Please try again"))}))}})]}),Object(P.jsx)(b.a,{p:1,alignSelf:"center"})]})})]})}var Ye=Object(p.a)((function(e){return{grid:{width:"100%",height:"100%"},avatar:{height:"125px",width:e.spacing(17),marginBottom:"16px",marginTop:"64px"},user:{fontSize:24,textTransform:"capitalize"},button:{color:"#000000",margin:"32px",border:"1px solid #DCDCDC",width:"140px",height:"50px",borderRadius:0,"&:hover":{backgroundColor:"black",color:"white"}},fileInputLabel:{padding:"12px 15px"},fileInput:{display:"none"},tab:{textTransform:"uppercase"},container:{width:"75%",marginTop:"32px"},buttonBox:Object(W.a)({},e.breakpoints.down("xs"),{display:"flex",flexDirection:"column",justifyContent:"center"}),toolbar:{border:0},tabs:{color:"#000000",textColorPrimary:"#000000",width:"100%",fontWeight:"bold"}}})),qe=n(651),He=n(635),Ve=n(633),Je=n(571),$e=n(22),Ke=Object(p.a)((function(e){return{wrapper:{padding:40,display:"flex",justifyContent:"center"},tattooArt:{padding:10,textTransform:"uppercase",fontSize:"1rem",fontWeight:900,alignSelf:"center",letterSpacing:8}}})),Ze=n(631),Qe=n(300),Xe=Object(a.createContext)({open:!1,setOpen:function(e){}}),et=function(e){var t=e.children,n=Object(a.useState)(!1),r=Object(B.a)(n,2),i=r[0],c=r[1],o=R().loggedInUser;return Object(a.useEffect)((function(){"stanleythemanly"===(null===o||void 0===o?void 0:o.username)&&c(!0)}),[o]),Object(P.jsx)(Xe.Provider,{value:{open:i,setOpen:c},children:t})};function tt(){return Object(a.useContext)(Xe)}var nt=function(e){var t=e.steps,n=e.dontOpen,a=Ke(),r=tt(),i=r.open,c=r.setOpen,o=t.map((function(e){return Object($e.a)(Object($e.a)({},e),{},{content:(t=e.content.words,n=e.content.theme,Object(P.jsxs)(b.a,{display:"flex",flexDirection:"column",padding:"10px 20px",children:[Object(P.jsx)(m.a,{color:"primary"===n?"primary":"secondary",className:a.tattooArt,children:"tattoo art"}),Object(P.jsx)(Ze.a,{className:a.wrapper,style:{backgroundColor:"primary"===n?"black":"white"},children:Object(P.jsx)(m.a,{color:"primary"===n?"secondary":"primary",children:t})})]}))});var t,n}));return Object(P.jsx)(Qe.a,{steps:o,showNumber:!1,isOpen:!n&&i,onRequestClose:function(){return c(!1)}})},at=n(625),rt=n(570),it=Object(p.a)((function(e){var t;return{list:{overflow:"auto",height:"40rem"},avatar:Object(W.a)({margin:"32px",height:e.spacing(40),width:e.spacing(40)},e.breakpoints.down("xs"),{margin:0,width:"100%",height:"auto"}),grid:(t={marginLeft:"32px"},Object(W.a)(t,e.breakpoints.down("xs"),{marginLeft:0}),Object(W.a)(t,"justifyContent","flex-start"),Object(W.a)(t,"flexDirection","column"),t),typography:{fontWeight:"bold",fontSize:"22px"},contestInfo:Object(W.a)({},e.breakpoints.down("xs"),{display:"flex",justifyContent:"center"}),container:{height:"auto",marginTop:"32px",color:"#3A8DFF"},button:Object(W.a)({fontWeight:"bold",backgroundColor:"black",color:"white",padding:"8px 16px",marginLeft:"-20px"},e.breakpoints.down("sm"),{marginLeft:0}),contestContainer:Object(W.a)({},e.breakpoints.down("sm"),{justifyContent:"center",flexDirection:"column"}),noneAvailable:{display:"flex",justifyContent:"center",padding:20}}})),ct=n(632),ot=Object(p.a)((function(e){return{container:Object(W.a)({height:"auto",marginTop:"32px",color:"#3A8DFF"},e.breakpoints.down("sm"),{display:"flex",justifyContent:"center"}),typography:Object(W.a)({fontWeight:"bold",fontSize:"22px",textTransform:"capitalize"},e.breakpoints.down("sm"),{display:"flex",justifyContent:"center"}),contestInfo:Object(W.a)({},e.breakpoints.down("sm"),{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",alignSelf:"center"}),description:Object(W.a)({},e.breakpoints.down("sm"),{display:"flex",justifyContent:"center"}),button:Object(W.a)({fontWeight:"bold",backgroundColor:"black",color:"white",padding:"8px 16px",marginLeft:"-20px"},e.breakpoints.down("sm"),{marginLeft:0})}}));function st(e){var t=e.contest,n=ot();return t?Object(P.jsx)(ct.a,{className:n.contestInfo,primary:Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(m.a,{className:n.typography,children:t.title})}),secondary:Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(m.a,{classes:{root:n.description},children:t.description}),Object(P.jsx)(Ve.a,{className:n.container,children:Object(P.jsx)(w.a,{component:l.b,to:"/contest/".concat(t._id),className:n.button,children:t.prizeAmount})})]})}):Object(P.jsx)("div",{})}var lt=Object(p.a)((function(e){return{listItem:Object(W.a)({},e.breakpoints.down("sm"),{display:"flex",flexDirection:"column",justifyContent:"center"}),text:Object(W.a)({},e.breakpoints.down("sm"),{textAlign:"center"}),typography:{fontWeight:"bold",fontSize:"22px",textTransform:"capitalize"}}}));function dt(e){var t=e.winner,n=lt();return t?Object(P.jsx)(ct.a,{className:n.listItem,primary:Object(P.jsx)(m.a,{classes:{root:n.text},className:n.typography,children:t.title}),secondary:Object(P.jsx)(m.a,{classes:{root:n.text},children:t.description})}):Object(P.jsx)("div",{})}var ut=n(575),jt=Object(p.a)((function(e){var t;return{body:(t={display:"flex",flexDirection:"column",height:"min-content",overflowY:"scroll","&::-webkit-scrollbar":{display:"none"},maxHeight:"90%",width:"70%"},Object(W.a)(t,e.breakpoints.down("sm"),{width:"85%"}),Object(W.a)(t,"padding",15),t),artistLink:{display:"flex",alignItems:"center",padding:10,textDecoration:"none",color:"black"},artistName:{textTransform:"capitalize",marginLeft:20,fontWeight:700,fontSize:"2em"},image:{margin:"15px auto",width:"inherit",height:"auto"},modal:{display:"flex",justifyContent:"center",alignItems:"center"}}})),bt=function(e){var t=e.artistPic,n=e.artistName,r=e.image,i=e.submissionId,c=e.children,o=e.artistId,s=jt(),u=Object(a.useState)(!1),h=Object(B.a)(u,2),p=h[0],f=h[1],x=Oe().updateSnackBarMessage,g=Object(d.g)();return Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{onClick:function(){f(!0)},children:c}),Object(P.jsx)(ut.a,{open:p,onClose:function(){f(!1)},className:s.modal,children:Object(P.jsxs)(j.a,{className:s.body,children:[Object(P.jsxs)(b.a,{display:"flex",alignItems:"center",padding:1,children:[o?Object(P.jsxs)(l.b,{to:{pathname:"/artist",state:o},className:s.artistLink,children:[Object(P.jsx)(F.a,{src:t}),Object(P.jsx)(m.a,{className:s.artistName,children:n})]}):t?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(F.a,{src:t}),Object(P.jsx)(m.a,{className:s.artistName,children:n})]}):Object(P.jsx)(m.a,{className:s.artistName,children:n}),i?Object(P.jsx)(w.a,{onClick:function(){r&&i&&Le(r,i).then((function(e){e.error?x("Contest deadline has not been met yet"):(x("Congratulations. Your contest is now closed"),g.push("/profile"))})).catch((function(e){x(e.message)}))},children:"This is a winner!"}):null]}),Object(P.jsx)("img",{src:r,alt:"chosen design",className:s.image})]})})]})},ht=n.p+"static/media/lionTattoo.65e55871.png";function mt(e){var t=e.userContests,n=it();return Object(P.jsx)(P.Fragment,{children:t.length>0?Object(P.jsx)(at.a,{className:n.list,children:t.map((function(e){return Object(P.jsx)(rt.a,{children:Object(P.jsxs)(h.a,{container:!0,alignItems:"center",className:n.contestContainer,children:[Object(P.jsx)(h.a,{item:!0,children:Object(P.jsx)(bt,{image:"winningPic"in e?e.winningPic:"images"in e&&e.images[0]?e.images[0]:ht,artistName:"winningArtist"in e?e.winningArtist.username:"",artistPic:"winningArtist"in e?e.winningArtist.profilePic:"",artistId:"winningArtist"in e?e.winningArtist._id:null,children:Object(P.jsx)("img",{className:n.avatar,alt:"Test Contest Image",src:"winningPic"in e?e.winningPic:"images"in e&&e.images[0]?e.images[0]:ht})})}),Object(P.jsx)(h.a,{item:!0,children:"images"in e?Object(P.jsx)(st,{contest:e}):Object(P.jsx)(dt,{winner:e})})]})},e._id)}))}):Object(P.jsx)(m.a,{classes:{root:n.noneAvailable},children:" None Available "})})}var pt=function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}},e.next=3,fetch("/api/winners",t).then((function(e){return e.json()})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ft=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}},e.next=3,fetch("/api/winners/".concat(t),n).then((function(e){return e.json()})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xt=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",credentials:"include",body:t},e.next=3,fetch("/api/upload/profile",n).then((function(e){return e.json()})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function gt(e){var t=e.header,n=Object(d.g)();void 0===t&&(t=!0);var r=Ye(),i=Object(a.useState)(0),s=Object(B.a)(i,2),l=s[0],u=s[1],p=Object(a.useState)([]),f=Object(B.a)(p,2),x=f[0],v=f[1],y=Object(a.useState)([]),C=Object(B.a)(y,2),N=C[0],k=C[1],T=Object(a.useState)(),I=Object(B.a)(T,2),D=I[0],W=I[1],z=Object(a.useState)(!1),A=Object(B.a)(z,2),L=A[0],M=A[1],_=R(),U=_.loggedInUser,G=_.updateLoginContext,Y=Oe().updateSnackBarMessage,q=[{selector:'[data-tour="start-contest"]',content:{words:"This is your profile page, you can view all of your open and completed contests. Don't forget to upload a profile pic.",theme:"primary"},style:{padding:20,minWidth:"40%",maxWidth:"80vw"}},{selector:'[data-tour="start-contest"]',content:{words:"This is your profile page, you can view all of your open and completed contests. Don't forget to upload a profile pic.",theme:"primary"},style:{padding:20,minWidth:"40%",maxWidth:"80vw"},action:function(){return n.push("/settings")}}],H=Object(o.a)({palette:{primary:{main:"#000000"},secondary:{main:"#3d3d3d"}}});Object(a.useEffect)((function(){function e(){return(e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be();case 2:(t=e.sent).contests?v(t.contests):new Error("Could Not Get Contests");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pt();case 2:(t=e.sent)?k(t):new Error("Could not get winners");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){t.apply(this,arguments)}()}),[]);var V=function(e){return Object(P.jsx)("div",{role:"tabpanel",id:"".concat(e.index),children:l===e.index&&Object(P.jsx)(Ve.a,{children:Object(P.jsx)(m.a,{children:e.children})})})},J=function(){var e=Object(O.a)(g.a.mark((function e(a){var r,i,c,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!a.target.files){e.next=21;break}return M(!0),e.prev=3,(r=new FormData).append("image",a.target.files[0],a.target.files[0].name),e.next=8,xt(r);case 8:return i=e.sent,W(i),M(!1),e.next=13,E();case 13:c=e.sent,(o=c.success)&&(G(o),n.push("/profile")),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),Y(e.t0.message);case 21:!0===t?n.push("/profile"):n.push("/settings");case 22:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(t){return e.apply(this,arguments)}}();return U?Object(P.jsxs)(P.Fragment,{children:[t?Object(P.jsx)(he,{linkTo:"/create-contest",btnText:"create contest"}):"",Object(P.jsxs)(h.a,{className:r.grid,container:!0,alignItems:"center",direction:"column",children:[L?Object(P.jsx)(S.a,{}):Object(P.jsx)(F.a,{alt:"Profile Image",src:D||U.profilePic,className:r.avatar}),Object(P.jsx)(m.a,{className:r.user,children:U.username}),Object(P.jsxs)(b.a,{className:r.buttonBox,children:[Object(P.jsx)(w.a,{className:r.button,children:"Edit Profile"}),Object(P.jsx)(w.a,{className:r.button,children:Object(P.jsxs)("label",{htmlFor:"file",className:r.fileInputLabel,children:["Choose New Pic",Object(P.jsx)("input",{type:"file",accept:"image/*",id:"file",name:"image",multiple:!1,onChange:J,className:r.fileInput})]})})]}),Object(P.jsxs)(Ve.a,{className:r.container,children:[Object(P.jsxs)(Je.a,{className:r.toolbar,children:[Object(P.jsx)(c.a,{theme:H,children:Object(P.jsxs)(qe.a,{className:r.tabs,value:l,onChange:function(e,t){u(t)},textColor:"primary",variant:"fullWidth",children:[Object(P.jsx)(He.a,{label:"in progress",className:r.tab}),Object(P.jsx)(He.a,{label:"choose a winner",className:r.tab}),Object(P.jsx)(He.a,{label:"past winners",className:r.tab})]})}),Object(P.jsx)("div",{"data-tour":"profile"})]}),Object(P.jsxs)(j.a,{square:!0,elevation:2,children:[Object(P.jsx)(V,{value:l,index:0,children:Object(P.jsx)(mt,{userContests:x?x.filter((function(e){return e.active})):[]})}),Object(P.jsx)(V,{value:l,index:1,children:Object(P.jsx)(mt,{userContests:x?x.filter((function(e){return!e.active})):[]})}),Object(P.jsx)(V,{value:l,index:2,children:Object(P.jsx)(mt,{userContests:N})})]})]})]}),Object(P.jsx)(nt,{steps:q})]}):Object(P.jsx)(S.a,{})}var Ot=n(658),vt=Object(p.a)((function(e){return{pagination:{display:"flex",justifyContent:"center"}}}));function wt(e){var t=e.page,n=e.rowsPerPage,a=e.handleChangePage,r=e.handleChangeRowsPerPage,i=e.numContests,c=vt();return Object(P.jsx)(Ot.a,{component:"div",count:i,page:t,onPageChange:a,rowsPerPage:n,onRowsPerPageChange:r,className:c.pagination})}var yt=n(33),Ct=n(637),Nt=n(163),kt=n.n(Nt),St=n(162),Tt=n(47),It=n.n(Tt),Pt=n(639),Dt=n(640),Wt=n(641),zt=n(642),Bt=n(636),Et=n(643),At=Object(p.a)((function(e){return{grid:{height:"100%",width:"100%"},typography:{fontSize:"50px",fontWeight:"bold",borderBottom:"2px #DCDCDC",borderBottomWidth:"2px",borderBottomStyle:"solid",textAlign:"center",color:"white"},muiPicker:{textAlign:"center",marginTop:"20px"},paper:Object(W.a)({width:"50%"},e.breakpoints.down("sm"),{width:"100%"}),tableHead:{width:"100%"},tableRow:{padding:"25px 0px 25px 0px",textAlign:"center",minWidth:50},buttonReset:{fontWeight:"bold",backgroundColor:"black",color:"white",padding:"3px 7px",border:"1px solid black",margin:"28px 15px","&:hover":{color:"black"}},button:{fontWeight:"bold",backgroundColor:"black",color:"white",padding:"3px 7px",border:"1px solid black",marginLeft:"10px","&:hover":{color:"black"}}}})),Lt=n(3),Mt=Object(p.a)((function(e){return{root:Object(W.a)({marginBottom:e.spacing(3)},e.breakpoints.up("md"),{marginBottom:e.spacing(4)}),disableGutter:{marginBottom:0},title:{fontWeight:"bold"},cta:{marginLeft:e.spacing(1),"&:first-child":{marginLeft:e.spacing(0)}}}})),Rt=function(e){var t=e.title,n=e.titleVariant,a=void 0===n?"h4":n,r=e.subtitleVariant,i=e.subtitle,c=e.subtitleColor,o=e.label,s=e.overline,l=e.fadeUp,d=e.align,u=e.ctaGroup,j=e.disableGutter,b=e.titleClasses,p=e.className,f=Mt(),x="center";return"left"===d?x="flex-start":"right"===d&&(x="flex-end"),Object(P.jsxs)(h.a,{container:!0,spacing:2,"data-aos":l?"fade-up":"",className:Object(Lt.a)("section-header",f.root,j?f.disableGutter:{},p),children:[s&&Object(P.jsx)(h.a,{item:!0,container:!0,justifyContent:x,xs:12,className:"section-header__overline-wrapper",children:s}),o&&Object(P.jsx)(h.a,{item:!0,xs:12,className:"section-header__label-wrapper",children:Object(P.jsx)(m.a,{variant:"overline",color:"primary",component:"p",align:d||"center",children:o})}),Object(P.jsx)(h.a,{item:!0,xs:12,className:"section-header__title-wrapper",children:Object(P.jsx)(m.a,{variant:a,align:d||"center",className:Object(Lt.a)("section-header__title",f.title,b||{}),color:"textPrimary",children:t})}),i&&Object(P.jsx)(h.a,{item:!0,xs:12,className:"section-header__subtitle-wrapper",children:Object(P.jsx)(m.a,{variant:r||"h6",align:d||"center",color:c||"textSecondary",className:"section-header__subtitle",children:i})}),u&&u.length&&Object(P.jsx)(h.a,{item:!0,xs:12,className:"section-header__cta-wrapper",children:Object(P.jsx)(h.a,{container:!0,justifyContent:x,alignItems:"center",wrap:"nowrap",className:"section-header__cta-container",children:u.map((function(e,t){return Object(P.jsx)("div",{className:Object(Lt.a)("section-header__cta-item-wrapper",f.cta),children:e},t)}))})})]})},Ft=function(e){var t=e.allContestsLength,n=Object(a.useState)([]),r=Object(B.a)(n,2),i=r[0],c=r[1],o=Object(a.useState)(t),s=Object(B.a)(o,2),d=s[0],u=s[1],b=Object(a.useState)("deadlineDate"),p=Object(B.a)(b,2),f=p[0],x=(p[1],Object(a.useState)(0)),v=Object(B.a)(x,2),y=v[0],C=v[1],N=Object(a.useState)(10),k=Object(B.a)(N,2),S=k[0],T=k[1],I=Object(a.useState)(),D=Object(B.a)(I,2),W=D[0],z=D[1],E=At();Oe().updateSnackBarMessage;Object(a.useEffect)((function(){W||i||u(t)}),[W,i,t]),Object(a.useEffect)((function(){if(void 0!==W){var e=It.a.utc(W._d).format();A(e,S,y)}else A("",S,y),u(t)}),[W,S,y,t]);var A=function(){var e=Object(O.a)(g.a.mark((function e(){var t,n,a,r,i=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"",n=i.length>1&&void 0!==i[1]?i[1]:10,a=i.length>2&&void 0!==i[2]?i[2]:0,e.next=5,We(t,n,a);case 5:(r=e.sent).contests?(c(r.contests),""!==t&&u(r.contests.length)):new Error("Could Not Get Contests");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(O.a)(g.a.mark((function e(t,n){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We(void 0!==W?It.a.utc(W._d).format():"",S,n);case 2:(a=e.sent).contests&&(C(n),c(a.contests));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),M=function(e){C(0),z(e)};return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(h.a,{container:!0,justifyContent:"center",className:E.grid,children:[Object(P.jsx)(Rt,{title:Object(P.jsx)(m.a,{component:"span",variant:"inherit",color:"primary",children:"Current Contests"}),subtitle:"Here we have all of our current contests, feel free to use our date picker to find all contests that end by a certain date",fadeUp:!0}),Object(P.jsx)(h.a,{container:!0,justifyContent:"center",className:E.muiPicker,children:Object(P.jsx)(yt.a,{utils:St.a,children:Object(P.jsxs)(h.a,{item:!0,xs:5,children:[Object(P.jsx)(Ct.a,{id:"date",name:"deadlineDate",margin:"normal",variant:"inline",inputVariant:"outlined",format:"MMM Do YYYY",value:W,onChange:function(e){return M(e)},keyboardIcon:Object(P.jsx)(kt.a,{}),autoOk:!0}),Object(P.jsx)(w.a,{className:E.buttonReset,onClick:function(){return M(void 0)},children:"Reset Filter"})]})})}),Object(P.jsxs)(j.a,{className:E.paper,children:[Object(P.jsx)(Pt.a,{children:Object(P.jsxs)(Dt.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(P.jsx)(Wt.a,{children:Object(P.jsxs)(zt.a,{className:E.tableHead,children:[Object(P.jsx)(Bt.a,{className:E.tableRow,children:"Contest Title"},"Contest Title"),Object(P.jsx)(Bt.a,{className:E.tableRow,children:"Contest Description"},"Contest Description"),Object(P.jsx)(Bt.a,{className:E.tableRow,children:"Prize Amount"},"Prize Amount"),Object(P.jsx)(Bt.a,{className:E.tableRow,children:Object(P.jsx)("div",{onClick:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;if(i){var t=Object(ie.a)(e).sort((function(e,t){return e[f]>t[f]?1:e[f]<t[f]?-1:0}));c(t)}}()},children:"Deadline Date"})},"Deadline Date"),Object(P.jsx)(Bt.a,{className:E.tableRow,children:"Contest Page"},"Contest Page")]})}),Object(P.jsx)(Et.a,{children:i.map((function(e){return Object(P.jsxs)(zt.a,{hover:!0,role:"checkbox",className:E.tableHead,tabIndex:-1,children:[Object(P.jsx)(Bt.a,{className:E.tableRow,children:e.title}),Object(P.jsx)(Bt.a,{className:E.tableRow,children:e.description}),Object(P.jsxs)(Bt.a,{className:E.tableRow,children:["$",e.prizeAmount]}),Object(P.jsx)(Bt.a,{className:E.tableRow,children:It()(e.deadlineDate).local().format("MM-DD-YYYY")}),Object(P.jsx)(Bt.a,{className:E.tableRow,children:Object(P.jsx)(w.a,{className:E.button,component:l.b,to:"/contest/".concat(e._id),children:"More Info"})})]},e.title)}))})]})}),Object(P.jsx)(wt,{page:y,rowsPerPage:S,handleChangePage:L,handleChangeRowsPerPage:function(e){T(+e.target.value),C(0)},numContests:d})]})]})})},_t=n(287),Ut=Object(p.a)((function(e){return{root:{maxWidth:645,background:"black",margin:"20px"},media:{height:440},title:{fontWeight:"bold",fontSize:"2rem",color:"black"},description:{fontSize:"1.1rem",color:"black"},cardContent:{background:"rgb(247, 249, 250)"}}})),Gt=n(645),Yt=n(644),qt=function(e){var t=e.winningPic,n=e.title,a=(e.prizeAmount,e.description),r=e.winningArtist,i=(e.className,Ut());return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(Ze.a,{className:i.root,children:[Object(P.jsx)(bt,{artistPic:r.profilePic,artistId:r._id,artistName:r.username,image:t,children:Object(P.jsx)(Yt.a,{className:i.media,image:t,title:n})}),Object(P.jsxs)(Gt.a,{className:i.cardContent,children:[Object(P.jsx)(m.a,{gutterBottom:!0,variant:"h5",component:"h1",className:i.title,children:n}),Object(P.jsx)(m.a,{variant:"body2",color:"textSecondary",component:"p",className:i.description,children:a})]})]})})},Ht=Object(p.a)((function(e){var t;return{root:(t={maxWidth:1236,width:"inherit",margin:"0 auto",padding:e.spacing(6,2)},Object(W.a)(t,e.breakpoints.up("sm"),{padding:e.spacing(8,8)}),Object(W.a)(t,e.breakpoints.up("md"),{padding:e.spacing(12,8)}),t),fullWidth:{maxWidth:"100%"},disablePadding:{padding:0},narrow:{maxWidth:800}}})),Vt=function(e){var t=e.children,n=e.fullWidth,a=e.narrow,r=e.disablePadding,i=e.className,c=Ht();return Object(P.jsx)("section",{className:Object(Lt.a)("section",c.root,n?c.fullWidth:{},a?c.narrow:{},r?c.disablePadding:{},i),children:t})},Jt=n(646),$t=Object(p.a)((function(){return{wrapper:{padding:"4rem 0px"},swiperContainer:{width:"100%",maxWidth:500}}})),Kt=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"},e.next=3,fetch("/api/reviews/".concat(t),n).then((function(e){return e.json()})).catch((function(e){return{error:{message:"Unable to get reviews",err:e}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Zt=function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"},e.next=3,fetch("/api/reviews",t).then((function(e){return e.json()})).catch((function(e){return{error:{message:"Unable to get reviews",err:e}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qt=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)},e.next=3,fetch("/api/reviews",n).then((function(e){return e.json()})).catch((function(e){return{error:{message:"Unable to create review",err:e}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xt=(n(522),n(523),n(27)),en=n(659),tn=n(113),nn=n.n(tn),an=n(114),rn=n.n(an),cn=n(164),on=n.n(cn),sn=n(165),ln=n(663),dn=Object(p.a)((function(e){return{root:{maxWidth:500,flexGrow:1,height:"auto"},paper:{margin:e.spacing(1),marginTop:e.spacing(7),width:"95%",height:e.spacing(30),display:"flex",justifyContent:"center",flexDirection:"column"},avatar:{height:e.spacing(11),width:e.spacing(10)},username:{marginTop:e.spacing(4),marginLeft:e.spacing(4),fontWeight:"bold"},rating:{alignSelf:"center",marginBottom:e.spacing(1)},reviewText:{alignSelf:"center"}}})),un=Object(sn.autoPlay)(on.a),jn=function(e){var t=e.reviews,n=e.text,r=dn(),i=Object(Xt.a)(),c=Object(a.useState)(0),o=Object(B.a)(c,2),s=o[0],l=o[1],d=t&&t.length<5?t.length:4;return Object(P.jsx)(b.a,{display:"flex",justifyContent:"center",children:Object(P.jsxs)("div",{className:r.root,children:[Object(P.jsx)(un,{axis:"rtl"===i.direction?"x-reverse":"x",index:s,onChangeIndex:function(e){l(e)},enableMouseEvents:!0,children:null!==t&&(null===t||void 0===t?void 0:t.length)?null===t||void 0===t?void 0:t.map((function(e,t){return Object(P.jsx)("div",{children:Math.abs(s-t)<=2?Object(P.jsx)(b.a,{display:"flex",mb:2,justifyContent:"center",children:Object(P.jsxs)(j.a,{elevation:3,className:r.paper,children:[Object(P.jsxs)(b.a,{display:"flex",mb:4,textAlign:"center",pt:2,justifyContent:"center",mt:4,children:[Object(P.jsx)(F.a,{alt:"Profile Image",src:e.reviewerId.profilePic,className:r.avatar}),Object(P.jsxs)(m.a,{className:r.username,children:["@",e.reviewerId.username]})]}),Object(P.jsx)(ln.a,{classes:{root:r.rating},value:e.rating,size:"large",name:"read-only",readOnly:!0}),n?Object(P.jsx)(m.a,{className:r.reviewText,children:e.text}):null]})}):null},e._id)})):Object(P.jsx)(m.a,{style:{marginTop:"30px",padding:"20px"},variant:"h5",children:"This artist does not have any review"})}),(null===t||void 0===t?void 0:t.length)?Object(P.jsx)(en.a,{variant:"progress",steps:d,position:"static",activeStep:s,className:r.root,nextButton:Object(P.jsxs)(w.a,{size:"small",onClick:function(){l((function(e){return e+1}))},disabled:s===d-1,children:["Next","rtl"===i.direction?Object(P.jsx)(nn.a,{}):Object(P.jsx)(rn.a,{})]}),backButton:Object(P.jsxs)(w.a,{size:"small",onClick:function(){l((function(e){return e-1}))},disabled:0===s,children:["rtl"===i.direction?Object(P.jsx)(rn.a,{}):Object(P.jsx)(nn.a,{}),"Back"]})}):""]})})},bn=function(e){e.className;var t=Object(a.useState)([]),n=Object(B.a)(t,2),r=n[0],i=n[1],c=$t(),o=function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zt();case 2:(t=e.sent)?i(t):new Error("Could Not Get Reviews");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){o()}),[]),Object(P.jsxs)("div",{className:c.wrapper,children:[Object(P.jsx)(Rt,{title:"Customer Reviews",subtitle:"Take a look at some of our recent contest creators feedback."}),Object(P.jsx)("div",{className:Object(Lt.a)("swiper-container",c.swiperContainer),children:Object(P.jsx)("div",{className:"swiper-wrapper",children:Object(P.jsx)(jn,{reviews:r,text:!0})})})]})},hn=Object(p.a)((function(e){return{root:{background:"rgb(247, 249, 250)"},inner:{maxWidth:1236,width:"100%",margin:"0 auto"},innerNarrowed:{maxWidth:800}}})),mn=function(e){var t=e.children,n=e.innerNarrowed,a=e.className,r=hn();return Object(P.jsx)("section",{className:Object(Lt.a)("section-alternate",r.root,a),children:Object(P.jsx)("div",{className:Object(Lt.a)("section-alternate__content",r.inner,n?r.innerNarrowed:{}),children:t})})},pn=Object(p.a)((function(e){return{root:{backgroundSize:"contain",backgroundColor:"white"},cover:{position:"relative",zIndex:9,width:"100%",height:"100%"},image:{objectFit:"cover"}}})),fn=n(111),xn=Object(p.a)((function(e){var t;return{root:{height:"100%",width:"100%",overflow:"hidden"},hero:Object(W.a)({position:"relative",width:"100%",height:"100%",display:"flex",maxWidth:1236,margin:"0 auto"},e.breakpoints.down("sm"),{flexDirection:"column-reverse"}),heroLeftSide:(t={},Object(W.a)(t,e.breakpoints.down("sm"),{padding:e.spacing(3,8)}),Object(W.a)(t,e.breakpoints.down("xs"),{padding:e.spacing(3,2)}),t),heroRightSide:Object(W.a)({maxWidth:"50%",flex:"0 0 50%",position:"relative"},e.breakpoints.down("sm"),{maxWidth:"100%",flex:"0 0 100%",height:"300px"}),heroCover:Object(W.a)({position:"relative",width:"50vw",height:"100%"},e.breakpoints.down("sm"),{width:"100%"}),heroImageContainer:{height:"100%",width:"100%",overflow:"hidden"},heroImage:Object(W.a)({position:"absolute",left:"0%",width:"100%",height:"100%"},e.breakpoints.up("md"),{shapeOutside:"polygon(10% 0%, 100% 0, 100% 100%, 0% 100%)",clipPath:"polygon(10% 0%, 100% 0, 100% 100%, 0% 100%)"})}})),gn=function(e){var t=e.leftSide,n=e.rightSide,a=e.className,r=Object(fn.a)(e,["leftSide","rightSide","className"]),i=xn();return Object(P.jsxs)("div",Object($e.a)(Object($e.a)({className:Object(Lt.a)(i.root,"hero-shaped",a)},r),{},{children:[Object(P.jsxs)("div",{className:Object(Lt.a)("hero-shaped__wrapper",i.hero),children:[Object(P.jsx)(Vt,{className:Object(Lt.a)("hero-shaped__left-side",i.heroLeftSide),children:t}),Object(P.jsx)("div",{className:Object(Lt.a)("hero-shaped__right-side",i.heroRightSide),children:Object(P.jsx)("div",{className:Object(Lt.a)("hero-shaped__cover",i.heroCover),children:Object(P.jsx)("div",{className:Object(Lt.a)("hero-shaped__image-container",i.heroImageContainer),children:Object(P.jsx)("div",{className:Object(Lt.a)("hero-shaped__image",i.heroImage),children:n})})})})]}),Object(P.jsx)(Jt.a,{})]}))},On=n(288),vn=Object(p.a)((function(){return{root:{width:"100%",height:"100%"},dBlock:{display:"block"}}})),wn=function(e){var t=e.src,n=e.srcSet,a=e.alt,r=void 0===a?"...":a,i=e.lazy,c=void 0===i||i,o=e.lazyProps,s=void 0===o?{width:"auto",height:"auto"}:o,l=e.className,d=Object(fn.a)(e,["src","srcSet","alt","lazy","lazyProps","className"]),u=vn();return c?Object(P.jsx)(On.LazyLoadImage,Object($e.a)(Object($e.a)({className:Object(Lt.a)("image",u.root,u.dBlock,l),alt:r,src:t,srcSet:n,effect:"opacity"},s),d)):Object(P.jsx)("img",Object($e.a)({className:Object(Lt.a)("image",u.root,l),alt:r,src:t,srcSet:n},d))},yn=n.p+"static/media/heroImg.65c790d5.jpg",Cn=function(e){var t=e.className,n=pn(),a=R().loggedInUser;return Object(P.jsx)("div",{className:t,children:Object(P.jsx)(gn,{leftSide:Object(P.jsx)("div",{children:Object(P.jsx)(Rt,{title:Object(P.jsx)("span",{children:Object(P.jsx)(m.a,{component:"span",variant:"inherit",color:"primary",children:"Tattoo Art"})}),subtitle:"Premier tatoo designs created by artists all over the world.",ctaGroup:[a?Object(P.jsx)(w.a,{component:l.b,to:"create-contest",variant:"contained",color:"primary",size:"large","data-tour":"start-contest",children:"Start Contest"},"button"):Object(P.jsx)(w.a,{variant:"contained",color:"primary",size:"large",children:"Start Contest"},"button")],align:"left",titleVariant:"h3"})}),rightSide:Object(P.jsx)(wn,{src:yn,srcSet:yn,alt:"...",className:n.image,lazyProps:{width:"100%",height:"100%"}})})})},Nn=Object(p.a)((function(e){return{winnerCard:Object(W.a)({backgroundColor:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},e.breakpoints.down("xs"),{flexDirection:"column"}),winnerWrapper:{width:"100%"},table:{margin:"100px 0"}}}));function kn(){var e=Object(a.useState)([]),t=Object(B.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(0),c=Object(B.a)(i,2),o=c[0],s=c[1],l=Nn(),u=Object(d.g)(),j=R().loggedInUser,b=function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ft(4);case 2:if(!(t=e.sent)){e.next=7;break}r(t),e.next=8;break;case 7:return e.abrupt("return",new Error("Could Not Get Winners"));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=[{selector:'[data-tour="start-contest"]',content:{words:"You can create a contest here!",theme:"primary"},style:{padding:20,minWidth:"40%",maxWidth:"80vw"},updateDelay:30,scrollDuration:1500},{selector:'[data-tour="contests"]',content:{words:"Check out our active contests here!",theme:"secondary"},style:{padding:20,minWidth:"40%",maxWidth:"80vw",backgroundColor:"black"},scrollDuration:1500},{selector:'[data-tour="contests"]',content:{words:"Check out our active contests here!",theme:"secondary"},style:{padding:20,minWidth:"40%",maxWidth:"80vw",backgroundColor:"black"},scrollDuration:1500,action:function(){return u.push("/profile")}}];return Object(a.useEffect)((function(){b(),ze().then((function(e){s(e)}))}),[]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(he,{linkTo:j?"/create-contest":"/login",btnText:j?"Create Contest":"Log In"}),Object(P.jsxs)(_t.Animated,{animationIn:"bounceInRight",animationOut:"fadeOut",isVisible:!0,children:[Object(P.jsx)(Cn,{}),Object(P.jsx)(Vt,{children:Object(P.jsxs)(h.a,{children:[Object(P.jsx)(Rt,{title:Object(P.jsx)(m.a,{component:"span",variant:"inherit",color:"primary",children:"Check out some of our recent Contest winners."}),subtitle:"We Guarantee atleast 20 submissions to your contest and you could receive up to 500+.",fadeUp:!0}),Object(P.jsx)(h.a,{container:!0,className:l.winnerCard,alignItems:"center",children:n.map((function(e){return Object(P.jsx)(h.a,{item:!0,xs:12,sm:6,md:3,className:l.winnerWrapper,children:Object(P.jsx)(qt,{winningPic:e.winningPic,title:e.title,prizeAmount:e.prizeAmount,winningArtist:e.winningArtist,description:e.description},e.description)},e._id)}))})]})}),Object(P.jsx)(Jt.a,{}),Object(P.jsx)(mn,{children:Object(P.jsx)(bn,{className:"reviews"})}),Object(P.jsx)(Jt.a,{}),Object(P.jsx)("div",{className:l.table,"data-tour":"contests",children:Object(P.jsx)(Ft,{allContestsLength:o})}),Object(P.jsx)(Jt.a,{}),Object(P.jsx)(nt,{steps:p})]})]})}var Sn=n(573),Tn=n(647),In=n(648),Pn=n(664),Dn=n(291),Wn=n.n(Dn),zn=n(290),Bn=n.n(zn),En=n(292),An=n.n(En),Ln=(n(561),n(289)),Mn=n.n(Ln),Rn=Object(p.a)((function(e){return{form:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",marginTop:e.spacing(1)},textField:{width:"100%"},label:{fontWeight:"bold"},box:{width:"65%"},submit:{padding:10,width:200,borderRadius:5,height:60,fontSize:14},imageList:{overflowY:"scroll",overflowX:"hidden",height:450,border:"0.5px solid #DDDDDD",borderRadius:5,padding:"20px","&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"black"}},images:{display:"flex",flexWrap:"wrap",padding:"20px"},fileInputLabel:{"&:hover":{cursor:"pointer"},height:"100%",width:"100%"},fileInput:{display:"none"},uploadBtn:Object(W.a)({color:"white",backgroundColor:"black",borderRadius:0,border:"1px solid black","&&:hover":{backgroundColor:"white",color:"black"},height:"100%",width:"10rem",display:"flex",justifyContent:"center",alignItems:"center",marginRight:"2rem"},e.breakpoints.down("sm"),{marginRight:0}),img:{width:"95%",height:"95%",cursor:"pointer"},checked:{filter:"brightness(50%)"},sub:{marginTop:10,color:"#AAAAAA"},icon:{display:"block",position:"relative",width:"50%",height:"50%",color:"#FFFFFF",marginLeft:"auto",marginRight:"auto",bottom:115}}}));function Fn(e){var t=e.handleSubmit,n=Object(a.useState)("PDT"),r=Object(B.a)(n,2),i=r[0],c=r[1],o=Object(a.useState)(!1),s=Object(B.a)(o,2),l=s[0],d=s[1],u=Object(a.useState)([]),j=Object(B.a)(u,2),p=j[0],f=j[1],x=Rn(),v=function(){var e=Object(O.a)(g.a.mark((function e(t){var n,a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.files){e.next=15;break}for(d(!0),e.prev=2,n=new FormData,a=0;a<t.target.files.length;a++)n.append("image",t.target.files[a],t.target.files[a].name);return e.next=7,De(n);case 7:r=e.sent,f([r].concat(Object(ie.a)(p))),d(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsx)(C.a,{initialValues:{title:"",description:"",prizeAmount:0,deadlineDate:It()(),images:[]},validationSchema:N.d().shape({title:N.f().required("This field is required"),description:N.f().required("This field is required"),prizeAmount:N.c().integer().positive().required("This field is required"),deadlineDate:N.b().required("This field is required"),images:N.a()}),onSubmit:function(e){var n=It()();n="PDT"===i?e.deadlineDate.tz("America/Los_Angeles",!0):"MDT"===i?e.deadlineDate.tz("America/Denver",!0):"CDT"===i?e.deadlineDate.tz("America/Chicago",!0):e.deadlineDate.tz("America/New_York",!0),t(Object($e.a)(Object($e.a)({},e),{},{deadlineDate:n,images:p}))},children:function(e){var t=e.handleSubmit,n=e.handleChange,a=e.setFieldValue,r=e.values,o=e.touched,s=e.errors,d=e.isSubmitting;return Object(P.jsxs)("form",{onSubmit:t,className:x.form,noValidate:!0,children:[Object(P.jsxs)(b.a,{mt:3,mb:3,className:x.box,children:[Object(P.jsx)(m.a,{className:x.label,children:"What do you need designed?"}),Object(P.jsx)(y.a,{id:"title",name:"title",margin:"normal",variant:"outlined",placeholder:"Write a descriptive contest title",className:x.textField,helperText:o.title?s.title:"",error:o.title&&Boolean(s.title),value:r.title,onChange:n})]}),Object(P.jsxs)(b.a,{mt:3,mb:3,className:x.box,children:[Object(P.jsx)(m.a,{className:x.label,children:"Description"}),Object(P.jsx)(y.a,{id:"description",name:"description",margin:"normal",variant:"outlined",placeholder:"Details about what type of tattoo you want",rows:6,multiline:!0,className:x.textField,helperText:o.description?s.description:"",error:o.description&&Boolean(s.description),value:r.description,onChange:n})]}),Object(P.jsx)(b.a,{mt:3,mb:3,className:x.box,children:Object(P.jsxs)(h.a,{container:!0,spacing:2,children:[Object(P.jsxs)(h.a,{item:!0,xs:4,children:[Object(P.jsx)(m.a,{className:x.label,children:"Prize amount"}),Object(P.jsx)(y.a,{id:"prizeAmount",name:"prizeAmount",margin:"normal",variant:"outlined",placeholder:"100.00",helperText:o.prizeAmount?s.prizeAmount:"",error:o.prizeAmount&&Boolean(s.prizeAmount),value:r.prizeAmount?r.prizeAmount:"",onChange:n,InputProps:{startAdornment:Object(P.jsx)(Sn.a,{position:"start",children:Object(P.jsx)(Bn.a,{})})}})]}),Object(P.jsxs)(h.a,{item:!0,xs:8,children:[Object(P.jsx)(m.a,{className:x.label,children:"Deadline"}),Object(P.jsxs)(h.a,{container:!0,spacing:0,children:[Object(P.jsxs)(yt.a,{utils:St.a,children:[Object(P.jsx)(h.a,{item:!0,xs:5,children:Object(P.jsx)(Ct.a,{id:"date",name:"deadlineDate",margin:"normal",variant:"inline",inputVariant:"outlined",format:"MMMM Do YYYY",value:r.deadlineDate,onChange:function(e){return a("deadlineDate",e)},keyboardIcon:Object(P.jsx)(kt.a,{})})}),Object(P.jsx)(h.a,{item:!0,xs:5,children:Object(P.jsx)(Pn.a,{id:"time",name:"deadlineDate",margin:"normal",variant:"inline",inputVariant:"outlined",format:"LT",value:r.deadlineDate,onChange:function(e){return a("deadlineDate",e)},keyboardIcon:Object(P.jsx)(Wn.a,{})})})]}),Object(P.jsx)(h.a,{item:!0,xs:2,children:Object(P.jsxs)(y.a,{id:"zone",name:"zone",margin:"normal",variant:"outlined",select:!0,value:i,onChange:function(e){return c(e.target.value)},children:[Object(P.jsx)(Y.a,{value:"PDT",children:"PDT"}),Object(P.jsx)(Y.a,{value:"MDT",children:"MDT"}),Object(P.jsx)(Y.a,{value:"CDT",children:"CDT"}),Object(P.jsx)(Y.a,{value:"EDT",children:"EDT"})]})})]})]})]})}),Object(P.jsxs)(b.a,{mt:3,mb:3,className:x.box,children:[Object(P.jsxs)(b.a,{display:"flex",justifyContent:"space-between",alignContent:"center",children:[Object(P.jsxs)(b.a,{children:[Object(P.jsx)(m.a,{className:x.label,children:"Show us some inspiration for your dream tattoo"}),Object(P.jsx)(m.a,{className:x.sub,component:"p",children:"Upload your images."})]}),Object(P.jsx)(b.a,{maxWidth:"50%",children:Object(P.jsxs)("label",{htmlFor:"file",className:x.fileInputLabel,children:[Object(P.jsx)("input",{type:"file",accept:"image/*",id:"file",name:"image",multiple:!1,onChange:v,className:x.fileInput}),Object(P.jsx)("div",{className:x.uploadBtn,children:"upload"})]})})]}),Object(P.jsx)(b.a,{mt:3,mb:3,className:x.imageList,children:Object(P.jsx)(Tn.a,{rowHeight:160,cols:4,className:x.images,children:l?Object(P.jsx)(S.a,{style:{height:"40%",width:"40%"}}):p.map((function(e,t){return Object(P.jsxs)(In.a,{children:[Object(P.jsx)("img",{id:"".concat(t),src:e,className:x.img}),Mn()("#".concat("".concat(t))).hasClass(x.checked)&&Object(P.jsx)(An.a,{className:x.icon})]},e)}))})})]}),Object(P.jsx)(b.a,{mt:3,mb:3,children:Object(P.jsx)(w.a,{type:"submit",size:"large",variant:"contained",color:"primary",className:x.submit,children:d?Object(P.jsx)(S.a,{style:{color:"white"}}):"Create Contest"})})]})}})}var _n=Object(p.a)((function(){return{header:{fontWeight:"bold"},paper:{marginBottom:30}}}));function Un(){var e=_n(),t=Object(d.g)(),n=Oe().updateSnackBarMessage;return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(he,{linkTo:"/create-contest",btnText:"create contest"}),Object(P.jsxs)(h.a,{container:!0,direction:"column",spacing:0,children:[Object(P.jsx)(b.a,{mt:4,mb:4,children:Object(P.jsx)(m.a,{align:"center",component:"h1",variant:"h5",className:e.header,children:"Create New Contest"})}),Object(P.jsx)(h.a,{container:!0,justifyContent:"center",children:Object(P.jsx)(h.a,{item:!0,xs:12,md:10,elevation:6,component:j.a,className:e.paper,children:Object(P.jsx)(Fn,{handleSubmit:function(e){var a=e.title,r=e.description,i=e.prizeAmount,c=e.deadlineDate,o=e.images;Ae({title:a,description:r,prizeAmount:i,deadlineDate:c,images:o}).then((function(e){e.error?n(e.error.message):(n("Sucessfully created contest"),t.push("/discovery"))}))}})})})]})]})}var Gn=Object(p.a)((function(e){return{grid:{width:"100%",height:"100%"},avatar:{height:"125px",width:e.spacing(17),marginBottom:"16px",marginTop:"50px"},user:{fontSize:24},container:{width:"100%",marginTop:"15px"},toolbar:{border:0},tabs:{color:"#000000",textColorPrimary:"#000000",width:"100%",fontWeight:"bold"}}})),Yn=Object(p.a)((function(e){return{activity:{margin:0,WebkitTextStroke:"medium",paddingTop:70},heading:{WebkitTextStroke:"medium",marginTop:e.spacing(8),marginBottom:e.spacing(6)},contentMarginsLeft:{marginLeft:15},contentMarginsTop:{marginTop:10,fontSize:18},root:{backgroundColor:"#fafafa"},about:{marginTop:e.spacing(8),padding:e.spacing(3),fontWeight:"bold"}}})),qn=n(293),Hn=n.n(qn),Vn=n(294),Jn=n.n(Vn),$n=Object(p.a)((function(e){return{root:{maxWidth:500,flexGrow:1,height:"auto"},paper:{margin:e.spacing(1),marginTop:e.spacing(7),width:"95%",height:e.spacing(30)},username:{marginTop:e.spacing(4),marginLeft:e.spacing(4),fontWeight:"bold"},title:{fontWeight:"bold",marginTop:e.spacing(2)},date:{marginTop:e.spacing(2)}}})),Kn=Object(sn.autoPlay)(on.a),Zn=function(e){var t=e.submission,n=$n(),r=Object(Xt.a)(),i=Object(a.useState)(0),c=Object(B.a)(i,2),o=c[0],s=c[1],l=null!==t&&t.length<5?t.length:4;return Object(P.jsx)(b.a,{display:"flex",justifyContent:"center",children:Object(P.jsxs)("div",{className:n.root,children:[Object(P.jsx)(Kn,{axis:"rtl"===r.direction?"x-reverse":"x",index:o,onChangeIndex:function(e){s(e)},enableMouseEvents:!0,children:null!==t&&(null===t||void 0===t?void 0:t.length)?null===t||void 0===t?void 0:t.map((function(e,t){return Object(P.jsx)("div",{children:Math.abs(o-t)<=2?Object(P.jsx)(b.a,{display:"flex",mb:2,justifyContent:"center",children:Object(P.jsx)(j.a,{elevation:3,className:n.paper,children:Object(P.jsxs)(b.a,{display:"flex",mb:4,textAlign:"center",pt:2,justifyContent:"center",mt:4,flexDirection:"column",children:[Object(P.jsx)(m.a,{className:n.username,children:"Artist submitted in the contest titled"}),Object(P.jsx)(m.a,{className:n.title,variant:"h5",children:'"'.concat(e.contest.title,'"')}),Object(P.jsx)(m.a,{className:n.date,variant:"body1",children:It()(e.created_at).fromNow()})]})})}):null},e._id)})):Object(P.jsx)(m.a,{style:{marginTop:"30px",padding:"20px"},variant:"h5",children:"This artist does not have any activity"})}),(null===t||void 0===t?void 0:t.length)?Object(P.jsx)(en.a,{variant:"progress",steps:l,position:"static",activeStep:o,className:n.root,nextButton:Object(P.jsxs)(w.a,{size:"small",onClick:function(){s((function(e){return e+1}))},disabled:o===l-1,children:["Next","rtl"===r.direction?Object(P.jsx)(nn.a,{}):Object(P.jsx)(rn.a,{})]}),backButton:Object(P.jsxs)(w.a,{size:"small",onClick:function(){s((function(e){return e-1}))},disabled:0===o,children:["rtl"===r.direction?Object(P.jsx)(rn.a,{}):Object(P.jsx)(nn.a,{}),"Back"]})}):""]})})},Qn=function(e){var t=e.info,n=e.submission,a=Yn();return Object(P.jsxs)(b.a,{textAlign:"center",pb:5,children:[Object(P.jsx)(m.a,{className:a.activity,variant:"h5",children:"Recent Activity"}),Object(P.jsx)(Zn,{submission:n}),t?Object(P.jsxs)(b.a,{display:"flex",flexDirection:"column",mt:10,className:a.root,children:[Object(P.jsxs)(m.a,{variant:"h3",className:a.heading,children:[null===t||void 0===t?void 0:t.firstName," ",null===t||void 0===t?void 0:t.middleInit," ",null===t||void 0===t?void 0:t.lastName]}),Object(P.jsxs)(m.a,{variant:"body1",className:a.contentMarginsTop,children:[Object(P.jsx)(Hn.a,{}),Object(P.jsx)("em",{className:a.contentMarginsLeft,children:null===t||void 0===t?void 0:t.email})]}),Object(P.jsxs)(m.a,{className:a.contentMarginsTop,children:[Object(P.jsx)(Jn.a,{}),Object(P.jsx)("em",{className:a.contentMarginsLeft,children:null===t||void 0===t?void 0:t.phone})]}),Object(P.jsx)(m.a,{className:a.about,variant:"h5",children:null===t||void 0===t?void 0:t.about})]}):""]})},Xn=function(){var e=Object(O.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe.a.post("/api/info",t).then((function(e){return e.data})).catch((function(){return{error:{message:"Failed to save personal information"}}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ea=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"},e.next=3,fetch("/api/info/".concat(t),n).then((function(e){return e.json()})).catch((function(){return{err:{message:"Could not get personal info"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ta=Object(p.a)((function(){return{submit:{width:100,borderRadius:5,fontSize:14,margin:"15px ! important"},select:{top:15},stars:{marginTop:30}}}));function na(e){var t=e.handleSubmit,n=e.artistId,a=R().loggedInUser,r=ta(),i=N.d().shape({rating:N.c(),text:N.f()});return Object(P.jsx)(C.a,{initialValues:{rating:5,text:"",error:"",reviewerId:{profilePic:"",username:""},_id:""},validationSchema:i,onSubmit:t,children:function(e){var t=e.handleSubmit,i=e.handleChange,c=e.values,o=e.errors,s=e.touched;return Object(P.jsx)("form",{onSubmit:t,noValidate:!0,children:Object(P.jsxs)(b.a,{mt:3,mb:3,display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",children:[Object(P.jsxs)(h.a,{container:!0,spacing:2,children:[Object(P.jsxs)(h.a,{item:!0,xs:12,sm:12,md:6,children:[Object(P.jsx)(m.a,{children:"Words"}),Object(P.jsx)(y.a,{id:"text",name:"text",fullWidth:!0,margin:"normal",variant:"outlined",placeholder:"This artist is awesome",helperText:s.text?o.text:"",error:s.text&&Boolean(o.text),value:c.text,onChange:i})]}),Object(P.jsxs)(h.a,{item:!0,xs:12,sm:12,md:6,children:[Object(P.jsx)(m.a,{children:"Rating"}),Object(P.jsx)(ln.a,{id:"rating",name:"rating",value:c.rating,size:"large",className:r.stars,onChange:i})]})]}),Object(P.jsx)(b.a,{textAlign:"center",marginTop:"20px",children:(null===a||void 0===a?void 0:a.id)===n?Object(P.jsx)(w.a,{className:r.submit,type:"submit",variant:"contained",color:"primary",disabled:!0,children:"Save"}):Object(P.jsx)(w.a,{className:r.submit,type:"submit",variant:"contained",color:"primary",children:"Save"})})]})})}})}var aa=Object(p.a)((function(e){return{activity:{margin:0,WebkitTextStroke:"medium",paddingTop:70},avatar:{height:e.spacing(6),width:e.spacing(5)},paper:{display:"flex",width:"50%",background:"#fafafa",marginTop:15,flexDirection:"column",alignItems:"center"},formPaper:{marginTop:"120px",backgroundColor:"#fafafa"},readAll:{marginTop:"100px"},username:{marginTop:"10px",marginLeft:"5px",fontWeight:"bold"}}})),ra=n(660);function ia(e){var t=e.artistId,n=aa(),r=Object(a.useState)(!1),i=Object(B.a)(r,2),c=i[0],o=i[1],s=Oe().updateSnackBarMessage,l=Object(a.useState)([]),d=Object(B.a)(l,2),u=d[0],p=d[1],f=function(){var e=Object(O.a)(g.a.mark((function e(n){var a,r,i,c,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rating,r=n.text,i={artistId:t,rating:a,text:r},e.next=4,Qt(i);case 4:(c=e.sent).error?s(c.error):(s("Review submitted successfully"),o=u?[].concat(Object(ie.a)(u),[c]):[c],p(o));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){function e(){return(e=Object(O.a)(g.a.mark((function e(){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt(t);case 2:null!==(n=e.sent)?p(n):new Error("Could Not Get Artist Info");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(P.jsxs)(b.a,{textAlign:"center",pb:5,children:[Object(P.jsx)(m.a,{className:n.activity,variant:"h5",children:"Recent Reviews"}),Object(P.jsx)(jn,{reviews:u}),Object(P.jsxs)(j.a,{className:n.formPaper,children:[Object(P.jsx)(b.a,{mt:1,mb:1,pt:5,children:Object(P.jsx)(m.a,{align:"center",component:"h1",variant:"h5",children:"Submit your review"})}),Object(P.jsx)(h.a,{container:!0,justifyContent:"center",children:Object(P.jsx)(h.a,{item:!0,xs:12,md:10,children:Object(P.jsx)(na,{handleSubmit:f,artistId:t})})})]}),Object(P.jsx)(m.a,{align:"center",variant:"subtitle1",className:n.readAll,children:"Read all"}),Object(P.jsx)(ra.a,{checked:c,onChange:function(e){o(e.target.checked)},inputProps:{"aria-label":"controlled"}}),!0===c?u.length?u.map((function(e){return Object(P.jsx)(b.a,{display:"flex",justifyContent:"center",children:Object(P.jsxs)(j.a,{className:n.paper,children:[Object(P.jsxs)(b.a,{display:"flex",mb:2,textAlign:"center",pt:2,children:[Object(P.jsx)(F.a,{alt:"Profile Image",src:e.reviewerId.profilePic,className:n.avatar}),Object(P.jsxs)(m.a,{className:n.username,children:["@",e.reviewerId.username]})]}),Object(P.jsx)(b.a,{display:"flex",mb:2,textAlign:"center",children:Object(P.jsx)(ln.a,{value:e.rating,size:"large",name:"read-only",readOnly:!0})}),Object(P.jsx)(b.a,{display:"flex",mb:2,children:Object(P.jsx)(m.a,{className:n.username,children:e.text})})]})},e._id)})):Object(P.jsx)(m.a,{style:{marginTop:"30px",padding:"20px"},variant:"h4",children:"This artist does not have any review"}):""]})}var ca=Object(ee.a)({"@global":{".MuiToolbar-root":{padding:0},".MuiToolbar-regular":{minHeight:0}}})((function(){return null}));function oa(e){var t=e.location.state,n=Gn(),r=Object(a.useState)(0),i=Object(B.a)(r,2),s=i[0],l=i[1],d=Object(a.useState)(),u=Object(B.a)(d,2),b=u[0],p=u[1],f=Object(a.useState)([]),x=Object(B.a)(f,2),v=x[0],w=x[1],y=R().loggedInUser,C=Object(o.a)({palette:{primary:{main:"#000000"},secondary:{main:"#3d3d3d"}}});Object(a.useEffect)((function(){function e(){return(e=Object(O.a)(g.a.mark((function e(){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ea(t);case 2:return n=e.sent,e.next=5,Te(t);case 5:a=e.sent,null!==n?p(n):new Error("Could Not Get Artist Info"),null!==a?w(a):new Error("Could Not Get Artist Submssions");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]);var N=function(e){return Object(P.jsx)("div",{role:"tabpanel",id:"".concat(e.index),children:s===e.index&&Object(P.jsx)(Ve.a,{children:Object(P.jsx)(m.a,{children:e.children})})})};return y?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(ca,{}),Object(P.jsx)(he,{linkTo:"/create-contest",btnText:"create contest"}),Object(P.jsxs)(h.a,{className:n.grid,container:!0,alignItems:"center",direction:"column",children:[Object(P.jsx)(F.a,{alt:"Profile Image",src:null===b||void 0===b?void 0:b.userId.profilePic,className:n.avatar}),Object(P.jsx)(m.a,{className:n.user,children:"".concat(b?b.firstName:""," ").concat(b?b.lastName:"")}),Object(P.jsxs)(Ve.a,{className:n.container,children:[Object(P.jsx)(Je.a,{className:n.toolbar,children:Object(P.jsx)(c.a,{theme:C,children:Object(P.jsxs)(qe.a,{className:n.tabs,value:s,onChange:function(e,t){l(t)},textColor:"primary",variant:"fullWidth",children:[Object(P.jsx)(He.a,{label:"ABOUT ARTIST"}),Object(P.jsx)(He.a,{label:"REVIEWS"})]})})}),Object(P.jsxs)(j.a,{square:!0,elevation:2,style:{marginBottom:"10px"},children:[Object(P.jsx)(N,{value:s,index:0,children:Object(P.jsx)(Qn,{info:b,submission:v})}),Object(P.jsx)(N,{value:s,index:1,children:Object(P.jsx)(ia,{artistId:t})})]})]})]})]}):Object(P.jsx)(S.a,{})}var sa=n(295),la=n(80),da=function(){var e=Object(O.a)(g.a.mark((function e(t,n){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cardId:t,stripeId:n}),credentials:"include"},e.next=3,fetch("/api/stripe/stripeToken",a).then((function(e){return e.json()})).catch((function(){return{error:{message:"Unable to connect to Stripe. Please try again"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ua=Object(p.a)((function(){return{form:{display:"flex",flexDirection:"column",alignItems:"center",height:"800px"},formGrid:{height:"100%",width:"50%"},paper:{height:"400px",width:"500px"},container:{justifyContent:"space-between"},typography:{fontWeight:"bold",fontSize:"16px",padding:"20px 0"},cardNum:{width:"300px",padding:"10px",marginBottom:"20px",border:"1px solid #000000",borderRadius:"5px"},cardExpiry:{width:"150px",border:"1px solid #000000",marginRight:"20px",padding:"10px",borderRadius:"5px"},cardCvc:{width:"110px",border:"1px solid #000000",padding:"10px",borderRadius:"5px"},button:{color:"#000000",margin:"40px 20px",border:"1px solid #000000",width:"15rem",height:"6rem",fontSize:"15px"}}}));function ja(){var e=Object(la.useStripe)(),t=Object(la.useElements)(),n=ua(),a=R().loggedInUser,r=Oe().updateSnackBarMessage,i=function(){var n=Object(O.a)(g.a.mark((function n(i){var c;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i.preventDefault(),e&&t){n.next=3;break}return n.abrupt("return");case 3:c=t.getElement(la.CardNumberElement),a&&c&&e.createPaymentMethod({type:"card",card:c,billing_details:{name:a.username}}).then((function(e){if(e.paymentMethod){var t=e.paymentMethod.id,n=a.stripeId;da(t,n),r("Card has been added to your account.")}else r("Card could not be added")}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(h.a,{container:!0,justifyContent:"center",children:Object(P.jsx)("form",{className:n.form,onSubmit:i,children:Object(P.jsx)(h.a,{container:!0,className:n.formGrid,children:Object(P.jsxs)(b.a,{className:n.paper,children:[Object(P.jsxs)(Ve.a,{className:n.container,children:[Object(P.jsx)(m.a,{className:n.typography,children:"Enter your card details:"}),Object(P.jsx)(la.CardNumberElement,{className:n.cardNum,id:"outlined-basic",options:{iconStyle:"solid",style:{base:{color:"black",fontSize:"16px",iconColor:"#fff"},invalid:{iconColor:"red",color:"red"},complete:{iconColor:"#cbf4c9"}}}}),Object(P.jsxs)(b.a,{display:"flex","flex-direction":"row",children:[Object(P.jsx)(la.CardExpiryElement,{className:n.cardExpiry,id:"outlined-basic"}),Object(P.jsx)(la.CardCvcElement,{className:n.cardCvc,id:"outlined-basic"})]})]}),Object(P.jsx)(w.a,{type:"submit",className:n.button,children:"Add Card"})]})})})})})}var ba=n(653),ha=Object(p.a)((function(){return{submit:{padding:10,width:100,borderRadius:5,fontSize:14},select:{top:15}}}));function ma(e){var t=e.handleSubmit,n=ha(),a=N.d().shape({firstName:N.f(),middleInit:N.f().max(1,"Middle initial is too long"),lastName:N.f(),email:N.f().email("Invalid email"),phone:N.f().matches(/^([0-9]{10}|0)$/,"Invalid phone number"),dateOfBirth:N.f(),gender:N.f(),about:N.f()});return Object(P.jsx)(C.a,{initialValues:{firstName:"",middleInit:"",lastName:"",email:"",phone:0,dateOfBirth:"",gender:"",about:""},validationSchema:a,onSubmit:t,children:function(e){var t=e.handleSubmit,a=e.handleChange,r=e.values,i=e.errors,c=e.touched;return Object(P.jsx)("form",{onSubmit:t,noValidate:!0,children:Object(P.jsxs)(b.a,{mt:3,mb:3,children:[Object(P.jsxs)(h.a,{container:!0,spacing:2,children:[Object(P.jsx)(h.a,{item:!0,xs:12,sm:5,children:Object(P.jsxs)(b.a,{children:[Object(P.jsx)(m.a,{children:"First Name"}),Object(P.jsx)(y.a,{id:"firstName",name:"firstName",fullWidth:!0,margin:"normal",variant:"outlined",placeholder:"John",helperText:c.firstName?i.firstName:"",error:c.firstName&&Boolean(i.firstName),value:r.firstName,onChange:a})]})}),Object(P.jsx)(h.a,{item:!0,xs:12,sm:2,children:Object(P.jsxs)(b.a,{children:[Object(P.jsx)(m.a,{children:"MI"}),Object(P.jsx)(y.a,{id:"middleInit",name:"middleInit",fullWidth:!0,margin:"normal",variant:"outlined",placeholder:"T",helperText:c.middleInit?i.middleInit:"",error:c.middleInit&&Boolean(i.middleInit),value:r.middleInit,onChange:a})]})}),Object(P.jsx)(h.a,{item:!0,xs:12,sm:5,children:Object(P.jsxs)(b.a,{children:[Object(P.jsx)(m.a,{children:"Last Name"}),Object(P.jsx)(y.a,{id:"lastName",name:"lastName",fullWidth:!0,margin:"normal",variant:"outlined",placeholder:"Doe",helperText:c.lastName?i.lastName:"",error:c.lastName&&Boolean(i.lastName),value:r.lastName,onChange:a})]})})]}),Object(P.jsxs)(h.a,{container:!0,spacing:2,children:[Object(P.jsx)(h.a,{item:!0,xs:6,children:Object(P.jsxs)(b.a,{children:[Object(P.jsx)(m.a,{children:"Email"}),Object(P.jsx)(y.a,{id:"email",name:"email",fullWidth:!0,margin:"normal",variant:"outlined",placeholder:"johndoe@gmail.com",helperText:c.email?i.email:"",error:c.email&&Boolean(i.email),value:r.email,onChange:a})]})}),Object(P.jsx)(h.a,{item:!0,xs:6,children:Object(P.jsxs)(b.a,{children:[Object(P.jsx)(m.a,{children:"Phone Number"}),Object(P.jsx)(y.a,{id:"phone",name:"phone",fullWidth:!0,margin:"normal",variant:"outlined",placeholder:"(123) 456-7890",helperText:c.phone?i.phone:"",error:c.phone&&Boolean(i.phone),value:r.phone?r.phone:"",onChange:a})]})})]}),Object(P.jsxs)(h.a,{container:!0,spacing:2,children:[Object(P.jsx)(h.a,{item:!0,xs:6,children:Object(P.jsxs)(b.a,{children:[Object(P.jsx)(m.a,{children:"Date of Birth"}),Object(P.jsx)(y.a,{id:"dateOfBirth",name:"dateOfBirth",type:"date",fullWidth:!0,margin:"normal",variant:"outlined",value:r.dateOfBirth,onChange:a})]})}),Object(P.jsx)(h.a,{item:!0,xs:6,children:Object(P.jsxs)(b.a,{children:[Object(P.jsx)(m.a,{children:"Gender"}),Object(P.jsxs)(ba.a,{id:"gender",name:"gender",fullWidth:!0,variant:"outlined",value:r.gender,className:n.select,onChange:a,children:[Object(P.jsx)(Y.a,{value:"Male",children:"Male"}),Object(P.jsx)(Y.a,{value:"Female",children:"Female"})]})]})}),Object(P.jsxs)(h.a,{item:!0,xs:12,sm:12,children:[Object(P.jsx)(m.a,{children:"About me"}),Object(P.jsx)(y.a,{id:"about",name:"about",fullWidth:!0,multiline:!0,margin:"normal",variant:"outlined",placeholder:"Something about you...",rows:5,helperText:c.about?i.about:"",error:c.about&&Boolean(i.about),value:r.about?r.about:"",onChange:a})]})]}),Object(P.jsx)(b.a,{textAlign:"center",children:Object(P.jsx)(w.a,{className:n.submit,type:"submit",variant:"contained",color:"primary",children:"Save"})})]})})}})}var pa=Object(p.a)((function(){return{root:{maxwidth:"70vw",width:"50vw",marginLeft:"auto",marginRight:"auto"}}}));function fa(){var e=pa();return Object(P.jsxs)(h.a,{container:!0,direction:"column",className:e.root,children:[Object(P.jsx)(b.a,{mt:2,mb:2,children:Object(P.jsx)(m.a,{align:"center",component:"h1",variant:"h5",children:"Personal Information"})}),Object(P.jsx)(h.a,{container:!0,justifyContent:"center",children:Object(P.jsx)(h.a,{item:!0,xs:12,md:10,children:Object(P.jsx)(ma,{handleSubmit:function(e){var t=e.firstName,n=e.middleInit,a=e.lastName,r=e.email,i=e.phone,c=e.dateOfBirth,o=e.gender,s=e.about;Xn({firstName:t,middleInit:n,lastName:a,email:r,phone:i,dateOfBirth:c,gender:o,about:s})}})})})]})}var xa=Object(p.a)((function(){return{fields:{width:"100%"}}}));function ga(e){var t=e.handleSubmit,n=xa();return Object(P.jsx)(C.a,{initialValues:{password:"",confirmPassword:""},validationSchema:N.d().shape({password:N.f().required("Password is required").max(100,"Password is too long").min(6,"Password too short"),confirmPassword:N.f().when("password",{is:function(e){return!!(e&&e.length>0)},then:N.f().oneOf([N.e("password")],"Password does not match!")})}),onSubmit:t,children:function(e){var t=e.handleSubmit,a=e.handleChange,r=e.values,i=e.touched,c=e.errors,o=e.isSubmitting;return Object(P.jsxs)("form",{onSubmit:t,noValidate:!0,children:[Object(P.jsxs)(b.a,{mt:3,children:[Object(P.jsx)(m.a,{children:"Password"}),Object(P.jsx)(y.a,{id:"password",name:"password",type:"password",margin:"normal",variant:"outlined",placeholder:"Password",className:n.fields,helperText:i.password?c.password:"",error:i.password&&Boolean(c.password),value:r.password,onChange:a})]}),Object(P.jsxs)(b.a,{mt:3,mb:3,children:[Object(P.jsx)(m.a,{children:"Confirm Password"}),Object(P.jsx)(y.a,{id:"confirmPassword",name:"confirmPassword",type:"password",margin:"normal",variant:"outlined",placeholder:"Confirm Password",className:n.fields,helperText:i.confirmPassword?c.confirmPassword:"",error:i.confirmPassword&&Boolean(c.confirmPassword),value:r.confirmPassword,onChange:a})]}),Object(P.jsx)(b.a,{mb:3,children:Object(P.jsx)(w.a,{type:"submit",size:"large",variant:"contained",color:"primary",className:n.fields,children:o?Object(P.jsx)(S.a,{style:{color:"white"}}):"Update Password"})})]})}})}var Oa=function(){var e=Object(O.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pe.a.post("/api/reset",{email:t}).then((function(e){return e.data})).catch((function(){return{error:{message:"Cannot reach email"}}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),va=function(){var e=Object(O.a)(g.a.mark((function e(t,n,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pe.a.patch("/api/reset/update-password/".concat(a),{password:t,token:n}).then((function(e){return e.data})).catch((function(){return{error:{message:"Unable to reset password"}}})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),wa=function(){var e=Object(O.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pe.a.patch("/api/reset/change-password",{password:t}).then((function(e){return e.data})).catch((function(){return{error:{message:"Unable to change password"}}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ya=Object(p.a)((function(){return{container:{maxwidth:"70vw",width:"50vw",marginLeft:"auto",marginRight:"auto"},form:{padding:10}}}));function Ca(){var e=Object(a.useState)(!1),t=Object(B.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(),c=Object(B.a)(i,2),o=c[0],s=c[1],l=ya();return Object(P.jsxs)(b.a,{className:l.container,children:[Object(P.jsx)(b.a,{children:Object(P.jsx)(m.a,{align:"center",component:"h1",variant:"h5",children:"Change Password"})}),Object(P.jsx)(b.a,{mt:3,mb:3,boxShadow:4,component:j.a,className:l.form,children:n&&!o?Object(P.jsx)(b.a,{children:Object(P.jsx)(m.a,{align:"center",children:"Your password has be updated!"})}):o?Object(P.jsx)(m.a,{align:"center",children:o}):Object(P.jsx)(ga,{handleSubmit:function(e){var t=e.password;wa(t).then((function(e){e.error?s(e.error.message):s("")})),r((function(e){return!e}))}})})]})}var Na=Object(p.a)((function(e){var t;return{typography:{padding:e.spacing(2),fontSize:15,fontWeight:"bold",paddingBottom:"0"},poptitle:{margin:20,fontWeight:"bold",fontSize:25,"-webkit-text-stroke":"medium"},time:{marginLeft:15,marginBottom:20},avatar:{height:45,width:e.spacing(6),marginTop:15,marginLeft:15},seeAll:{marginLeft:70,marginTop:50,fontSize:15},paper:(t={marginTop:"5%",overflowY:"hidden",width:"65%"},Object(W.a)(t,e.breakpoints.down("sm"),{width:"100%",marginLeft:"5%",marginRight:"5%"}),Object(W.a)(t,e.breakpoints.only("xl"),{width:"40%",marginLeft:"2%",marginRight:"5%"}),t),delete:{padding:9,border:"none",fontSize:12,marginTop:"17px",color:"#fff",backgroundColor:"black","&:hover":{color:"#fff",backgroundColor:"black"}},notificationContainer:{"&:hover":{backgroundColor:"#fafafa",color:"black"}},link:{textDecoration:"none",color:"black"}}}));function ka(e){var t=e.header,n=Object(d.g)();void 0===t&&(t=!0);var r=Object(a.useContext)(de).notifications,i=Object(a.useContext)(de).setNotifications,c=R().loggedInUser,o=Na(),s=Oe().updateSnackBarMessage,p=function(){var e=Object(O.a)(g.a.mark((function e(a){var c,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),c=a.target,e.next=4,re(c.value);case 4:204===e.sent?(s("Notification deleted successfully"),o=r&&r.filter((function(e){return e._id!==c.value})),i(o)):s("Error deleting notification, trying again later"),!0===t?n.push("/notifications"):n.push("/settings");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){var t=new Date(e),n=Math.abs(t.valueOf()-(new Date).valueOf()),a=Math.ceil(n/864e5),r=Math.ceil(n/36e5),i=Math.ceil(n/6e4),c=Math.ceil(n/1e3);return c<=1&&i<=1&&r<=1&&a<=1?"1 second ago":c>1&&i<=1&&r<=1&&a<=1?"".concat(c," seconds ago"):c>=60&&i<=2&&r<=1&&a<=1?"1 minute ago":i>1&&r<=1&&a<=1?"".concat(i," minutes ago"):r<=2&&a<=1&&i>=60?"1 hour ago":r>1&&a<=1?"".concat(r," hours ago"):r>=24&&a<=2?"1 day ago":"".concat(a," days ago")};return c?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(u.a,{}),t?Object(P.jsx)(he,{linkTo:"/create-contest",btnText:"CREATE CONTEST"}):"",Object(P.jsx)(b.a,{display:"flex",justifyContent:"center",children:Object(P.jsxs)(j.a,{className:o.paper,elevation:2,children:[Object(P.jsx)(h.a,{direction:"row",container:!0,children:Object(P.jsx)(h.a,{item:!0,children:Object(P.jsx)(m.a,{variant:"h5",className:o.poptitle,children:"Notifications"})})}),(null===r||void 0===r?void 0:r.length)?null===r||void 0===r?void 0:r.map((function(e){return Object(P.jsx)(l.b,{to:e.contestId?"/contest/".concat(e.contestId):"/dashboard",className:o.link,children:Object(P.jsxs)(h.a,{direction:"row",container:!0,className:o.notificationContainer,children:[Object(P.jsx)(h.a,{item:!0,xs:12,sm:3,md:2,children:Object(P.jsx)(F.a,{alt:"Profile Image",src:e.profilePic,className:o.avatar})}),Object(P.jsxs)(h.a,{item:!0,xs:12,sm:7,md:7,children:[Object(P.jsx)(m.a,{className:o.typography,children:e.notification},e._id),Object(P.jsx)(m.a,{className:o.time,children:f(e.createdAt)},e.notification)]}),Object(P.jsx)(h.a,{item:!0,xs:12,sm:1,md:1,children:Object(P.jsx)("button",{className:o.delete,onClick:p,value:e._id,children:"Delete"})})]})},e._id)})):Object(P.jsx)(m.a,{align:"center",children:"You do not have any notification"})]})})]}):Object(P.jsx)(S.a,{})}var Sa=Object(p.a)((function(e){return{root:{display:"flex",justifyContent:"center",flexGrow:1,overflow:"hidden"},tabs:{backgroundColor:e.palette.background.paper,maxWidth:"100vw",width:"20vw",height:"100%",borderRight:"1px solid ".concat(e.palette.divider),boxShadow:"3px 0 5px -2px #DDDDDD",paddingTop:20,"& .MuiTab-wrapper":{flexDirection:"row",justifyContent:"flex-start"}},label:{fontSize:"14px",left:"20%"},indicator:{left:"10%",transform:"rotate(90deg)"},paymentDetails:{fontSize:"35px",fontWeight:"bold",textAlign:"center",padding:"20px 0 30px 0",marginLeft:"58px"},tabPanel:{width:"80%"}}})),Ta=Object(sa.a)("pk_test_51JEJJrK3QVx74yV9vYujCrOpA8KwLKEE7uKSjHmUO0GGxUYSa5uxMlgaCZAbflwU9U0Npb2k4a86JEJBGmuBOfbw00CU3LpL8W");function Ia(e){var t=Sa(),n=e.children,a=e.value,r=e.index,i=Object(fn.a)(e,["children","value","index"]);return Object(P.jsx)("div",Object($e.a)(Object($e.a)({role:"tabpanel",hidden:a!==r,id:"tabpanel-".concat(r),"aria-labelledby":"tab-".concat(r)},i),{},{className:t.tabPanel,"data-tour":3===a?"payment":"",children:a===r&&Object(P.jsx)(b.a,{p:2,children:Object(P.jsx)(b.a,{children:n})})}))}function Pa(e){return{id:"tab-".concat(e),"aria-controls":"tabpanel-".concat(e)}}function Da(){var e=Object(a.useState)(0),t=Object(B.a)(e,2),n=t[0],r=t[1],i=Sa(),c=Object(d.g)(),o=[{selector:'[data-tour="settings"]',content:{words:"This is your settings page. You can add all of your personal information here as well as change your password. Don't forget to submit your payment information. If you want to create a contest with placeholder credit card information enter 4242-4242-4242-4242",theme:"primary"},style:{padding:20,minWidth:"40%",maxWidth:"80vw"}},{selector:'[data-tour="settings"]',content:{words:"This is your settings page. You can add all of your personal information here as well as change your password. Don't forget to submit your payment information. If you want to create a contest with placeholder credit card information enter 4242-4242-4242-4242",theme:"primary"},style:{padding:20,minWidth:"40%",maxWidth:"80vw"},action:function(){return c.push("/messages")}}];return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(he,{linkTo:"/create-contest",btnText:"create contest"}),Object(P.jsxs)(b.a,{className:i.root,children:[Object(P.jsx)("div",{"data-tour":"settings",children:Object(P.jsxs)(qe.a,{orientation:"vertical",indicatorColor:"primary",textColor:"primary",value:n,TabIndicatorProps:{style:{height:20,marginTop:15}},classes:{indicator:i.indicator},onChange:function(e,t){r(t)},className:i.tabs,children:[Object(P.jsx)(He.a,Object($e.a)(Object($e.a)({label:"Personal Information"},Pa(1)),{},{className:i.label})),Object(P.jsx)(He.a,Object($e.a)(Object($e.a)({label:"Notification"},Pa(3)),{},{className:i.label})),Object(P.jsx)(He.a,Object($e.a)(Object($e.a)({label:"Payment Details"},Pa(2)),{},{className:i.label})),Object(P.jsx)(He.a,Object($e.a)(Object($e.a)({label:"Profile"},Pa(0)),{},{className:i.label})),Object(P.jsx)(He.a,Object($e.a)(Object($e.a)({label:"Password"},Pa(4)),{},{className:i.label}))]})}),Object(P.jsx)(Ia,{value:n,index:0,children:Object(P.jsx)(b.a,{display:"flex",justifyContent:"center",children:Object(P.jsx)(fa,{})})}),Object(P.jsx)(Ia,{value:n,index:1,children:Object(P.jsx)(ka,{header:!1})}),Object(P.jsxs)(Ia,{value:n,index:2,children:[Object(P.jsx)(m.a,{className:i.paymentDetails,children:"Payment Details"}),Object(P.jsx)(la.Elements,{stripe:Ta,children:Object(P.jsx)(b.a,{display:"flex",justifyContent:"center",children:Object(P.jsx)(ja,{})})})]}),Object(P.jsx)(Ia,{value:n,index:3,children:Object(P.jsx)(gt,{header:!1})}),Object(P.jsx)(Ia,{value:n,index:4,children:Object(P.jsx)(Ca,{})})]}),Object(P.jsx)(nt,{steps:o})]})}var Wa=Object(p.a)((function(e){var t;return{grid:Object(W.a)({width:"100%",height:"100%",fontWeight:"bolder"},e.breakpoints.down("xs"),{display:"flex",justifyContent:"center"}),backIcon:{height:"10px"},contestTitle:Object(W.a)({fontSize:38,fontWeight:"bolder",fontFamily:"'Open Sans'",textTransform:"capitalize"},e.breakpoints.down("xs"),{textAlign:"center"}),prizeAmount:{backgroundColor:"black",color:"#ffff",marginLeft:20,borderRadius:"0",fontSize:100,"&:hover":{backgroundColor:"black",color:"#ffff"}},prize:{fontSize:16,fontWeight:"bold"},avatar:{height:45,width:e.spacing(6),marginTop:10},user:{fontSize:17,marginTop:20,marginLeft:20,fontWeight:"bold"},button:{color:"#000000",border:"1.5px solid black",width:"100%",height:"60%",borderRadius:0,marginTop:12,textTransform:"uppercase","&:hover":{backgroundColor:"black",color:"white"}},container:{marginTop:"32px",fontFamily:"'Open Sans'"},toolbar:{border:0},tabs:{color:"#000000",textColorPrimary:"#000000",width:"100%",fontWeight:"bold",padding:0},descriptionHeader:{textDecoration:"underline",margin:"15px 0 20px"},imageWrapper:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden"},imageList:{transform:"translateZ(0)",margin:"40px 0 20px",padding:"20px 0",width:"100%",height:450},listItem:(t={"&:hover":{cursor:"pointer"},width:"25%",height:"auto"},Object(W.a)(t,e.breakpoints.down("sm"),{width:"50% !important"}),Object(W.a)(t,e.breakpoints.down("xs"),{width:"90% !important"}),t),image:{width:"100%",height:"auto"},username:{textTransform:"capitalize"},greyText:{color:"#CECECE",fontWeight:"bolder"},designGrid:{marginTop:50}}})),za=n(649),Ba=Object(p.a)((function(e){var t;return{listItem:(t={"&:hover":{cursor:"pointer"},height:"min-content",padding:10,width:"25%"},Object(W.a)(t,e.breakpoints.down("sm"),{width:"50%"}),Object(W.a)(t,e.breakpoints.down("xs"),{width:"90%"}),t),by:{display:"flex",justifyContent:"center"},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},link:{textDecoration:"none",color:"black"}}})),Ea=function(e){var t=e.images,n=e.artistName,a=e.artistPic,r=e.submissionId,i=e.artistId,c=Ba();return Object(P.jsx)(P.Fragment,{children:t.map((function(e){return Object(P.jsxs)(In.a,{cols:1,className:c.listItem,children:[Object(P.jsx)(bt,{submissionId:r,artistPic:a,artistName:n,artistId:i||null,image:e,children:Object(P.jsx)("img",{srcSet:"".concat(e,"?w=248&fit=crop&auto=format 1x,\n            ").concat(e,"?w=248&fit=crop&auto=format&dpr=2 2x"),alt:n,loading:"lazy",style:{height:"250px",width:"100%"}})}),Object(P.jsx)(l.b,{className:c.link,to:{pathname:"/artist",state:"".concat(i)},children:Object(P.jsx)(za.a,{title:"By @".concat(n),classes:{titleWrap:c.by,root:c.titleBar}})})]},e)}))})},Aa=n(296),La=n.n(Aa),Ma=Object(ee.a)({"@global":{".MuiToolbar-root":{padding:0},".MuiToolbar-regular":{minHeight:0},"li.MuiImageListItem-root":{overflowY:"hidden"},"ul.li.MuiImageListItem-item":{padding:0},".MuiImageListItemBar-titleWrap":{color:"#333",marginTop:"12px"},".MuiImageListItemBar-title":{fontSize:"15px",fontWeight:"bolder",textDecoration:"underline",color:"white"},".MuiImageListItem-imgFullHeight":{opacity:"0.8"}}})((function(){return null}));function Ra(){var e=Object(d.i)().id,t=Wa(),n=Object(a.useState)(0),r=Object(B.a)(n,2),i=r[0],s=r[1],b=Oe().updateSnackBarMessage,p=Object(a.useState)([]),f=Object(B.a)(p,2),x=f[0],v=f[1],y=Object(a.useState)(),C=Object(B.a)(y,2),N=C[0],k=C[1],S=R().loggedInUser,T=Object(o.a)({palette:{primary:{main:"#000000"},secondary:{main:"#3d3d3d"}}});Object(a.useEffect)((function(){function t(){return(t=Object(O.a)(g.a.mark((function t(){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Se(e);case 3:n=t.sent,v(n||[]),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),b(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}S&&function(){t.apply(this,arguments)}()}),[S,e,b]),Object(a.useEffect)((function(){function t(){return(t=Object(O.a)(g.a.mark((function t(){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ee(e);case 3:(n=t.sent)&&k(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]);var I=function(e){return Object(P.jsx)("div",{role:"tabpanel",id:"".concat(e.index),children:i===e.index&&Object(P.jsx)(Ve.a,{children:Object(P.jsx)(m.a,{children:e.children})})})};return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(u.a,{}),Object(P.jsx)(Ma,{}),Object(P.jsx)(he,{linkTo:S?"/create-contest":"/login",btnText:S?"create contest":"login"}),Object(P.jsxs)(Ve.a,{className:t.container,children:[Object(P.jsx)(h.a,{className:t.grid,container:!0,style:{marginBottom:"35px"},children:Object(P.jsx)(h.a,{item:!0,children:Object(P.jsx)(m.a,{children:Object(P.jsxs)(l.b,{to:"/discovery",className:t.greyText,children:[Object(P.jsx)(La.a,{className:t.backIcon}),"Back to contests list"]})})})}),Object(P.jsxs)(h.a,{className:t.grid,container:!0,children:[Object(P.jsxs)(h.a,{item:!0,xs:12,sm:10,children:[Object(P.jsxs)(m.a,{className:t.contestTitle,children:[N?N.title:"",Object(P.jsx)(w.a,{className:t.prizeAmount,children:Object(P.jsxs)(m.a,{className:t.prize,children:["$",N?N.prizeAmount:"0"]})})]}),Object(P.jsxs)(h.a,{direction:"row",className:t.grid,container:!0,justifyContent:"center",alignItems:"center",children:[Object(P.jsx)(h.a,{item:!0,children:Object(P.jsx)(l.b,{to:{pathname:"/artist",state:"".concat(null===N||void 0===N?void 0:N.userId)},children:Object(P.jsx)(F.a,{src:N&&(N.ownerProfilePic||"https://robohash.org/".concat(N.ownerName,".png")),className:t.avatar})})}),Object(P.jsx)(h.a,{item:!0,children:Object(P.jsxs)(m.a,{className:t.user,children:["By ",Object(P.jsx)("span",{className:t.username,children:N?N.ownerName:""})]})})]})]}),Object(P.jsx)(h.a,{item:!0,xs:12,sm:2,children:(null===S||void 0===S?void 0:S.id)!==(null===N||void 0===N?void 0:N.userId)&&S?Object(P.jsx)(l.b,{to:"/submit-design/".concat(e),style:{textDecoration:"none"},children:Object(P.jsx)(w.a,{variant:"outlined",size:"large",className:t.button,children:"submit design"})}):Object(P.jsx)(w.a,{variant:"outlined",size:"large",className:t.button,disabled:!0,children:"submit design"})})]}),Object(P.jsxs)(h.a,{container:!0,direction:"column",className:t.designGrid,children:[Object(P.jsx)(Je.a,{className:t.toolbar,children:Object(P.jsx)(c.a,{theme:T,children:Object(P.jsxs)(qe.a,{className:t.tabs,value:i,onChange:function(e,t){s(t)},textColor:"primary",variant:"fullWidth",TabIndicatorProps:{style:{height:5}},children:[x.length&&Object(P.jsx)(He.a,{label:N&&N.images?"DESIGNS (".concat(N.images.length,")"):"DESIGNS (30)"}),Object(P.jsx)(He.a,{label:"BRIEF"})]})})}),Object(P.jsxs)(j.a,{elevation:2,children:[x.length?Object(P.jsx)(I,{value:i,index:0,children:Object(P.jsx)("div",{className:t.imageWrapper,children:Object(P.jsx)(Tn.a,{cols:4,gap:3,className:t.imageList,children:x.map((function(e){return Object(P.jsx)(Ea,{images:e.images,artistPic:e.artistPic,artistName:e.artistName,submissionId:e._id,artistId:e.artistId},e._id)}))})})}):null,Object(P.jsxs)(I,{value:i,index:x.length?1:0,children:[Object(P.jsx)(m.a,{align:"center",variant:"h3",className:t.descriptionHeader,children:"Tattoo Description:"}),Object(P.jsx)(m.a,{align:"center",variant:"h5",children:N?N.description:""}),Object(P.jsx)(Tn.a,{cols:4,gap:10,className:t.imageList,children:N&&N.images?N.images.map((function(e){return Object(P.jsx)(In.a,{cols:1,className:t.listItem,children:Object(P.jsx)(bt,{image:e,children:Object(P.jsx)("img",{srcSet:"".concat(e,"?w=248&fit=crop&auto=format 1x,\n                          ").concat(e,"?w=248&fit=crop&auto=format&dpr=2 2x"),alt:"".concat(e," inspiration"),loading:"lazy",className:t.image})})},e)})):null})]})]})]})]})]})}var Fa=Object(p.a)((function(){return{fields:{width:"100%"}}}));function _a(e){var t=e.handleSubmit,n=Fa();return Object(P.jsx)(C.a,{initialValues:{email:""},validationSchema:N.d().shape({email:N.f().required("Email is required").email("Email is not valid")}),onSubmit:t,children:function(e){var t=e.handleSubmit,a=e.handleChange,r=e.values,i=e.touched,c=e.errors,o=e.isSubmitting;return Object(P.jsxs)("form",{onSubmit:t,noValidate:!0,children:[Object(P.jsxs)(b.a,{mt:3,children:[Object(P.jsx)(m.a,{children:"Email"}),Object(P.jsx)(y.a,{id:"email",name:"email",margin:"normal",variant:"outlined",placeholder:"Email",className:n.fields,helperText:i.email?c.email:"",error:i.email&&Boolean(c.email),value:r.email,onChange:a})]}),Object(P.jsx)(b.a,{mb:3,children:Object(P.jsx)(w.a,{type:"submit",size:"large",variant:"contained",color:"primary",className:n.fields,children:o?Object(P.jsx)(S.a,{style:{color:"white"}}):"Send Confirmation"})})]})}})}var Ua=Object(p.a)((function(){return{container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh"},form:{padding:10,width:"25%",minWidth:"20%"}}}));function Ga(){var e=Object(a.useState)(!1),t=Object(B.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(),c=Object(B.a)(i,2),o=c[0],s=c[1],l=Ua();return Object(P.jsxs)(b.a,{className:l.container,children:[Object(P.jsx)(b.a,{children:Object(P.jsx)(m.a,{align:"center",component:"h1",variant:"h5",children:"Forgot Password"})}),Object(P.jsx)(b.a,{mt:3,mb:3,boxShadow:4,component:j.a,className:l.form,children:n&&!o?Object(P.jsx)(b.a,{children:Object(P.jsx)(m.a,{align:"center",children:"A reset link has been sent to your email"})}):o?Object(P.jsx)(m.a,{align:"center",children:o}):Object(P.jsx)(_a,{handleSubmit:function(e){var t=e.email;Oa(t).then((function(e){e.error?s(e.error.message):s("")})),r((function(e){return!e}))}})})]})}var Ya=Object(p.a)((function(){return{fields:{width:"100%"}}}));function qa(e){var t=e.handleSubmit,n=Ya();return Object(P.jsx)(C.a,{initialValues:{password:"",confirmPassword:""},validationSchema:N.d().shape({password:N.f().required("Password is required").max(100,"Password is too long").min(6,"Password too short"),confirmPassword:N.f().when("password",{is:function(e){return!!(e&&e.length>0)},then:N.f().oneOf([N.e("password")],"Password does not match!")})}),onSubmit:t,children:function(e){var t=e.handleSubmit,a=e.handleChange,r=e.values,i=e.touched,c=e.errors,o=e.isSubmitting;return Object(P.jsxs)("form",{onSubmit:t,noValidate:!0,children:[Object(P.jsxs)(b.a,{mt:3,children:[Object(P.jsx)(m.a,{children:"Password"}),Object(P.jsx)(y.a,{id:"password",name:"password",type:"password",margin:"normal",variant:"outlined",placeholder:"Password",className:n.fields,helperText:i.password?c.password:"",error:i.password&&Boolean(c.password),value:r.password,onChange:a})]}),Object(P.jsxs)(b.a,{mt:3,mb:3,children:[Object(P.jsx)(m.a,{children:"Confirm Password"}),Object(P.jsx)(y.a,{id:"confirmPassword",name:"confirmPassword",type:"password",margin:"normal",variant:"outlined",placeholder:"Confirm Password",className:n.fields,helperText:i.confirmPassword?c.confirmPassword:"",error:i.confirmPassword&&Boolean(c.confirmPassword),value:r.confirmPassword,onChange:a})]}),Object(P.jsx)(b.a,{mb:3,children:Object(P.jsx)(w.a,{type:"submit",size:"large",variant:"contained",color:"primary",className:n.fields,children:o?Object(P.jsx)(S.a,{style:{color:"white"}}):"Update Password"})})]})}})}var Ha=Object(p.a)((function(){return{container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh"},form:{padding:10,width:"25%",minWidth:"20%"},linkContainer:{display:"flex",justifyContent:"space-around"},link:{border:"1px solid black",borderRadius:5,padding:5,textDecoration:"none",color:"#EEEEEE",backgroundColor:"#111111","&:hover":{backgroundColor:"gray"}}}}));function Va(){var e=Object(a.useState)(!1),t=Object(B.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(),c=Object(B.a)(i,2),o=c[0],s=c[1],u=Ha(),h=Object(d.i)(),p=h.token,f=h.id;return Object(P.jsxs)(b.a,{className:u.container,children:[Object(P.jsx)(b.a,{children:Object(P.jsx)(m.a,{align:"center",component:"h1",variant:"h5",children:"Reset Password"})}),Object(P.jsx)(b.a,{mt:3,mb:3,boxShadow:4,component:j.a,className:u.form,children:n&&!o?Object(P.jsxs)(b.a,{children:[Object(P.jsx)(m.a,{align:"center",children:"Your password has be updated!"}),Object(P.jsxs)(b.a,{mt:2,mb:2,className:u.linkContainer,children:[Object(P.jsx)(l.b,{to:"/login",className:u.link,children:"Login"}),Object(P.jsx)(l.b,{to:"/dashboard",className:u.link,children:"Home"})]})]}):o?Object(P.jsx)(m.a,{align:"center",children:o}):Object(P.jsx)(qa,{handleSubmit:function(e){var t=e.password;va(t,p,f).then((function(e){e.error?s(e.error.message):s("")})),r((function(e){return!e}))}})})]})}var Ja=n(654),$a=Object(p.a)((function(e){return{root:{display:"flex",flexDirection:"column",height:"100vh",margin:0,padding:0,width:"100%"},container:{"& .MuiInput-underline:before":{borderBottom:"1.2px solid rgba(0, 0, 0, 0.2)"},backgroundColor:"#FFFFFF",flex:9,height:"calc(100vh - 400px)"},drawerWrapper:{maxHeight:"100%"},chatWrapper:Object(W.a)({height:"100%"},e.breakpoints.down("sm"),{height:"calc(100% - 50px)"}),paper:{maxHeight:"100%"}}})),Ka=Object(p.a)((function(e){return{chatSideBanner:Object(W.a)({display:"flex",flexDirection:"column",height:"100%",padding:"1rem 1rem"},e.breakpoints.up("md"),{padding:"2rem"}),convosContainer:{overflowY:"scroll","&::-webkit-scrollbar":{display:"none"}},userPanel:{display:"flex",alignItems:"center",marginBottom:"2rem"},heading:{marginLeft:20,fontWeight:900},chatTitle:{fontWeight:700,fontSize:20,margin:"1rem 0"},chatSummaryContainer:{overflowY:"auto",marginTop:"1rem"},newChatBtn:{margin:"1rem 0"},noChatToSelectText:{margin:"1rem 0"}}})),Za=Object(p.a)((function(e){return{search:{position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:"#E9EEF9",marginLeft:0,height:"50px",lineHeight:"18px",width:"calc(".concat(240," - 2rem)")},searchRoot:{color:"inherit",width:"100%",height:"100%"},searchInput:{padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),width:"100%",fontWeight:600},searchIcon:{height:"100%",position:"absolute",pointerEvents:"none",marginLeft:"1rem",display:"flex",alignItems:"center",justifyContent:"center"}}})),Qa=n(298),Xa=n.n(Qa),er=n(310),tr=n(652),nr=n(667);function ar(e){return rr.apply(this,arguments)}function rr(){return(rr=Object(O.a)(g.a.mark((function e(t){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.search,a={method:"GET",credentials:"include"},e.next=4,fetch("/api/users?search=".concat(n),a).then((function(e){return e.json()})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ir=function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"},e.next=3,fetch("/api/conversation",t).then((function(e){return e.json()})).catch((function(e){return{error:{message:"Can not connect to server"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),cr=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"},e.next=3,fetch("/api/conversation/".concat(t),n).then((function(e){return e.json()})).catch((function(e){return{error:{message:"Can not connect to server"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),or=function(){var e=Object(O.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)},e.next=3,fetch("/api/conversation",n).then((function(e){return e.json()})).catch((function(e){return{error:{message:"Can not connect to server"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sr=Object(a.createContext)({convo:[],setFriendId:function(e){return null},recipient:{_id:"",profilePic:"",username:""},setConvo:function(){}}),lr=function(e){var t=e.children,n=Object(a.useState)(),r=Object(B.a)(n,2),i=r[0],c=r[1],o=Object(a.useState)({_id:"",profilePic:"",username:""}),s=Object(B.a)(o,2),l=s[0],d=s[1],u=Object(a.useState)(),j=Object(B.a)(u,2),b=j[0],h=j[1];return Object(a.useEffect)((function(){b&&(c([]),d({_id:"",profilePic:"",username:""}),cr(b).then((function(e){"username"in e?d(e):c(e)})).catch((function(e){console.log(e)})))}),[b]),Object(P.jsx)(sr.Provider,{value:{convo:i,setFriendId:h,recipient:l,setConvo:c},children:t})};function dr(){return Object(a.useContext)(sr)}var ur=function(e){var t=e.search,n=e.handleChange,r=Object(a.useState)(!1),i=Object(B.a)(r,2),c=i[0],o=i[1],s=Object(a.useState)([]),l=Object(B.a)(s,2),d=l[0],u=l[1],j=Object(a.useState)(!1),b=Object(B.a)(j,2),h=b[0],m=b[1],p=Object(nr.a)(t,500),f=Object(B.a)(p,1)[0],x=dr().setFriendId,v=Za(),w=function(e){u(e)};Object(a.useEffect)((function(){var e=!0;function t(){return(t=Object(O.a)(g.a.mark((function t(){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.next=3,ar({search:f});case 3:n=t.sent,e&&n&&n.users&&(console.log(n),w(n.users)),m(!1);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){e=!1}}),[f]);return Object(P.jsx)("form",{onSubmit:function(e){e.preventDefault()},"data-tour":"search",children:Object(P.jsx)(tr.a,{id:"asynchronous-search",open:c,onOpen:function(){o(!0)},onClose:function(){o(!1)},getOptionSelected:function(e,t){return e.username===t.username},getOptionLabel:function(e){return e.username},options:d,loading:h,onChange:function(e,t){return function(e){e&&x(e.id)}(t)},onInputChange:n,inputValue:t,noOptionsText:"No Users Found",freeSolo:!0,renderInput:function(e){return Object(P.jsx)("div",{className:v.search,children:Object(P.jsx)(er.a,Object($e.a)(Object($e.a)({},e.inputProps),{},{placeholder:"Search",classes:{root:v.searchRoot,input:v.searchInput},inputProps:{"aria-label":"search",ref:e.InputProps.ref},startAdornment:Object(P.jsx)("div",{className:v.searchIcon,children:Object(P.jsx)(Xa.a,{})})}))})}})})},jr=Object(p.a)((function(){return{root:{borderRadius:8,borderTop:"rgba(0, 0, 0, .1)",borderBottom:"rgba(0, 0, 0, .1)",height:80,boxShadow:"0 2px 10px 0 rgba(88,133,196,0.05)",marginBottom:10,display:"flex",alignItems:"center","&:hover":{cursor:"pointer"}},profilePic:{height:44,width:44},badge:{height:13,width:13,borderRadius:"50%",border:"2px solid white",backgroundColor:"#D0DAE9"},online:{backgroundColor:"#1CED84"},sidebar:{marginLeft:17},date:{fontSize:12,color:"#9CADC8",letterSpacing:-.17,marginRight:15}}})),br=Object(p.a)((function(){return{root:{display:"flex",justifyContent:"space-between",alignItems:"center",marginLeft:20,flexGrow:1},username:{textTransform:"capitalize",fontWeight:900},lastMessage:{fontSize:12,color:"#9CADC8",letterSpacing:-.17},notification:{height:20,width:20,backgroundColor:"#3F92FF",marginRight:10,color:"white",fontSize:10,letterSpacing:-.5,fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:10},chip:{margin:"1vw"}}})),hr=n(661),mr=function(e){var t=e.username,n=e.lastMessage,r=br(),i=Object(a.useState)(0),c=Object(B.a)(i,2),o=c[0],s=c[1];return Object(P.jsxs)(b.a,{className:r.root,onClick:function(){return s(0)},children:[Object(P.jsxs)(b.a,{children:[Object(P.jsxs)(m.a,{className:r.username,children:[t.slice(0,15),t.length>40?"...":""]}),Object(P.jsxs)(m.a,{className:r.lastMessage,children:[n.slice(0,40),n.length>40?"...":""]})]}),o?Object(P.jsx)(hr.a,{color:"primary",label:o,className:r.chip}):null]})},pr=function(e){var t=e.convo,n=e.closeDrawer,r=Object(a.useState)(!1),i=Object(B.a)(r,2),c=i[0],o=(i[1],jr()),s=dr().setFriendId,l=R().loggedInUser,d=t.recipients.filter((function(e){return l&&e._id!==l.id})),u=Object(B.a)(d,1)[0],j=new Date(t.updatedAt);return u?Object(P.jsxs)(b.a,{className:o.root,onClick:function(){s(u._id),n&&n(!1)},children:[Object(P.jsx)(Q.a,{classes:{badge:"".concat(o.badge," ").concat(c&&o.online)},variant:"dot",anchorOrigin:{horizontal:"right",vertical:"bottom"},overlap:"circular",children:Object(P.jsx)(F.a,{alt:u.username,src:u.profilePic,className:o.profilePic})}),Object(P.jsx)(mr,{username:u.username,lastMessage:t.lastMessage}),Object(P.jsx)(b.a,{children:Object(P.jsx)(m.a,{className:o.date,children:j.toString().slice(0,10)})})]}):Object(P.jsx)("div",{})},fr=function(e){var t=e.convos,n=e.closeDrawer,r=Object(a.useState)("test"),i=Object(B.a)(r,2),c=i[0],o=i[1],s=Object(a.useState)(null),l=Object(B.a)(s,2),d=l[0],u=l[1],j=Ka();return Object(P.jsxs)(h.a,{className:j.chatSideBanner,children:[Object(P.jsx)(b.a,{className:j.userPanel,children:Object(P.jsx)(m.a,{variant:"h5",className:j.heading,children:"Inbox Messages"})}),Object(P.jsx)(b.a,{marginBottom:3,children:Object(P.jsx)(ur,{search:c,handleChange:function(e,t){o(t),d&&u(null)}})}),Object(P.jsx)(b.a,{className:j.convosContainer,children:t&&t.map((function(e){return Object(P.jsx)(pr,{convo:e,closeDrawer:n},e._id)}))})]})},xr=Object(p.a)((function(e){return{root:{display:"flex",flexDirection:"column",height:"100%"},activeChat:{height:"100%"},chatContainer:{display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"0 20px","&::-webkit-scrollbar":{display:"none"},height:"100%",overflowY:"scroll"}}})),gr=n(299),Or=n.n(gr),vr=Object(p.a)((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"space-between",height:89,marginBottom:34,boxShadow:"0 2px 20px 0 rgba(88,133,196,0.10)"},content:{display:"flex",alignItems:"center",marginLeft:24},username:{textTransform:"capitalize",fontSize:20,letterSpacing:-.29,fontWeight:"bold",margin:"0 14px"},statusText:{fontSize:12,color:"#BFC9DB",letterSpacing:-.17},statusDot:{height:8,width:8,borderRadius:"50%",marginRight:5,backgroundColor:"#D0DAE9"},online:{backgroundColor:"#1CED84"},offline:{backgroundColor:"#D0DAE9"},ellipsis:{color:"#95A7C4",marginRight:24,opacity:.5}}})),wr=Object(ee.a)((function(e){return{badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))(Q.a),yr=function(e){e.online;var t=e.username,n=e.profilePic,a=vr();return Object(P.jsxs)(b.a,{className:a.root,children:[Object(P.jsxs)(b.a,{className:a.content,children:[Object(P.jsx)(wr,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:Object(P.jsx)(F.a,{alt:"Profile Image",src:n})}),Object(P.jsx)(m.a,{className:a.username,children:t})]}),Object(P.jsx)(Or.a,{classes:{root:a.ellipsis}})]})},Cr=n(622),Nr=Object(p.a)((function(e){return{root:{marginTop:15,position:"sticky",bottom:5,width:"100%"},inputContainer:Object(W.a)({height:"100px"},e.breakpoints.down("md"),{padding:0}),input:{borderRadius:5,width:"100%"}}})),kr=function(e){var t=e.otherUserId,n=e.otherUsername,r=e.displayMessage,i=Nr(),c=Object(a.useRef)(),o=R().loggedInUser,s=le().socket,l=function(){var e=Object(O.a)(g.a.mark((function e(n){var a,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!o){e.next=8;break}return c.current&&(r(c.current.value),c.current.value=""),a={to:t,notification:"".concat(null===o||void 0===o?void 0:o.username," sent you a message")},e.next=6,te(a);case 6:i=e.sent,null===s||void 0===s||s.emit("sendNotification",i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsx)("form",{onSubmit:l,autoComplete:"off",children:Object(P.jsx)(Cr.a,{fullWidth:!0,hiddenLabel:!0,children:Object(P.jsx)(h.a,{container:!0,alignContent:"center",className:i.inputContainer,children:Object(P.jsx)(h.a,{item:!0,xs:12,children:Object(P.jsx)(y.a,{placeholder:"Reply to ".concat(n),className:i.input,name:"text",margin:"normal",variant:"outlined",fullWidth:!0,inputProps:{ref:c}})})})})})},Sr=Object(p.a)((function(e){var t;return{root:{display:"flex",flexDirection:"column",alignItems:"flex-end"},date:{fontSize:11,color:"#BECCE2",fontWeight:"bold",marginBottom:5},text:{fontSize:"1rem",padding:8,fontWeight:700},bubble:(t={background:"#F4F6FA",borderRadius:"10px 10px 0 10px",margin:"10px 2rem 10px 10px"},Object(W.a)(t,e.breakpoints.down("sm"),{margin:10}),Object(W.a)(t,"border","1px solid rgba(0, 0, 0, .2)"),Object(W.a)(t,"width","fit-content"),t),avatar:{height:25,width:25,marginTop:6}}})),Tr=function(e){e.time;var t=e.text,n=Sr();return Object(P.jsx)(b.a,{display:"flex",justifyContent:"flex-end",children:Object(P.jsx)(b.a,{width:"50%",maxWidth:"45%",display:"flex",justifyContent:"flex-end",children:Object(P.jsx)(b.a,{className:n.bubble,children:Object(P.jsx)(m.a,{className:n.text,children:t})})})})},Ir=Object(p.a)((function(e){return{avatar:{margin:"10px 2rem 10px 10px"},usernameDate:{fontSize:11,color:"#BECCE2",fontWeight:"bold",marginBottom:5},bubble:Object(W.a)({border:"1px solid rgba(0, 0, 0, .2)",borderRadius:"0 10px 10px 10px",minWidth:"min-content",margin:"10px 2rem 10px 10px"},e.breakpoints.down("sm"),{margin:10}),text:{fontSize:"1rem",fontWeight:700,padding:8}}})),Pr=function(e){e.time;var t=e.text,n=e.otherUsername,a=e.otherPhoto,r=Ir();return Object(P.jsxs)(b.a,{display:"flex","flex-direction":"column",alignItems:"flex-end",maxWidth:"90%",children:[Object(P.jsx)(F.a,{alt:n,src:a,className:r.avatar}),Object(P.jsx)(b.a,{maxWidth:"50%",children:Object(P.jsx)(b.a,{className:r.bubble,children:Object(P.jsx)(m.a,{className:r.text,children:t})})})]})},Dr=Object(p.a)((function(e){return{root:{overflowY:"scroll","&::-webkit-scrollbar":{display:"none"},paddingBottom:20}}})),Wr=function(e){var t=e.convo,n=Dr(),r=R().loggedInUser,i=Object(a.useRef)(null);return Object(a.useEffect)((function(){i.current&&i.current.scrollIntoView()}),[t]),Object(P.jsxs)(b.a,{className:n.root,children:[t&&t.map((function(e){var t=It()(e.createdAt).format("MMM Do h:mm");return r&&e.senderId===r.id?Object(P.jsx)(Tr,{text:e.text,time:t,latest:!1,image:e.senderPic,imageAlt:e.senderName},e._id):Object(P.jsx)(Pr,{text:e.text,time:t,otherUsername:e.senderName,otherPhoto:e.senderPic},e._id)})),Object(P.jsx)("div",{ref:i})]})};function zr(){var e=xr(),t=dr(),n=t.convo,r=t.recipient,i=t.setConvo,c=R().loggedInUser,o=le(),s=o.socket,l=o.message,d=Object(a.useState)(),u=Object(B.a)(d,2),h=u[0],m=u[1],p=Object(a.useState)(0),f=Object(B.a)(p,2),x=f[0],g=f[1];Object(a.useEffect)((function(){var e=c&&n&&n.length&&c.id===n[0].senderId?{_id:n[0].recipientId,username:n[0].recipientName,profilePic:n[0].recipientPic}:n&&n.length?{_id:n[0].senderId,username:n[0].senderName,profilePic:n[0].senderPic}:r;m(e)}),[n,c,r]),Object(a.useEffect)((function(){if(l){var e=n&&n.length?[].concat(Object(ie.a)(n),[l]):[l];i(e)}}),[x]);var O=function(e,t,n){var a={_id:x.toString(),conversationId:x.toString(),senderId:e.id,senderName:e.username,senderPic:e.profilePic,recipientId:t._id,recipientName:t.username,recipientPic:t.profilePic,text:n,createdAt:(new Date).toString()};return g((function(e){return e+1})),a};return h&&h.username?Object(P.jsxs)(j.a,{className:e.root,children:[Object(P.jsx)(yr,{online:!1,username:h.username,profilePic:h.profilePic}),Object(P.jsxs)(b.a,{className:e.chatContainer,children:[Object(P.jsx)(Wr,{convo:n}),Object(P.jsx)(kr,{otherUserId:h._id,otherUsername:h.username,displayMessage:function(e){if(c&&h){var t=O(c,h,e),a=(null===n||void 0===n?void 0:n.length)?[].concat(Object(ie.a)(n),[t]):[t];i(a),null===s||void 0===s||s.emit("send-message",c.id,c.profilePic,h._id,h.profilePic,e),or({to:h._id,message:e})}}})]})]}):Object(P.jsx)("div",{})}var Br=n(662),Er=Object(p.a)((function(e){return{expandBtn:{"&:hover":{backgroundColor:"white",color:"black",border:"1px solid black"},width:"90vw",borderRadius:0,margin:"5px 0",border:"1px solid white"},paper:{maxWidth:"80%"}}})),Ar=function(e){var t=e.convos,n=Object(a.useState)(!1),r=Object(B.a)(n,2),i=r[0],c=r[1],o=Er();return Object(P.jsx)("div",{children:Object(P.jsxs)(a.Fragment,{children:[Object(P.jsx)(b.a,{display:"flex",justifyContent:"center",width:"100%",children:Object(P.jsx)(w.a,{onClick:function(){return c(!i)},color:"primary",size:"large",variant:"contained",className:o.expandBtn,children:"All Conversations"})}),Object(P.jsx)(Br.a,{anchor:"left",classes:{paper:o.paper},open:i,onClose:function(){return c(!i)},children:Object(P.jsx)(fr,{convos:t,closeDrawer:c})})]})})};function Lr(){var e=$a(),t=R().loggedInUser,n=Object(d.g)(),r=le().initSocket,i=Object(a.useState)([]),c=Object(B.a)(i,2),o=c[0],s=c[1],l=tt().setOpen,j=[{selector:'[data-tour="search"]',content:{words:"Search for any user on our platform to start a conversation.",theme:"secondary"},style:{padding:20,minWidth:"40%",maxWidth:"80vw",backgroundColor:"black"}},{selector:'[data-tour="search"]',content:{words:"Search for any user on our platform to start a conversation.",theme:"secondary"},style:{padding:20,minWidth:"40%",maxWidth:"80vw",backgroundColor:"black"},action:function(){l(!1),n.push("/discovery")}}];return Object(a.useEffect)((function(){ir().then((function(e){e&&s(e)}))}),[]),Object(a.useEffect)((function(){r()}),[r]),void 0===t?Object(P.jsx)(S.a,{}):t?Object(P.jsxs)(lr,{children:[Object(P.jsxs)(Ve.a,{classes:{root:e.root},maxWidth:!1,children:[Object(P.jsx)(he,{btnText:"create contest",linkTo:"/create-contest"}),Object(P.jsxs)(h.a,{container:!0,component:"main",className:e.container,children:[Object(P.jsx)(u.a,{}),Object(P.jsxs)(h.a,{item:!0,xs:12,md:6,lg:4,className:e.drawerWrapper,children:[Object(P.jsx)(Ja.a,{smDown:!0,children:Object(P.jsx)(fr,{convos:o})}),Object(P.jsx)(Ja.a,{mdUp:!0,children:Object(P.jsx)(Ar,{convos:o})})]}),Object(P.jsx)(h.a,{item:!0,xs:12,md:6,lg:8,className:e.chatWrapper,children:Object(P.jsx)(zr,{})})]})]}),Object(P.jsx)(nt,{steps:j})]}):(n.push("/login"),Object(P.jsx)(S.a,{}))}n(564),n(565);var Mr=function(){return Object(P.jsx)(c.a,{theme:s,children:Object(P.jsx)(l.a,{children:Object(P.jsx)(ge,{children:Object(P.jsx)(M,{children:Object(P.jsx)(se,{children:Object(P.jsx)(ue,{children:Object(P.jsx)(et,{children:Object(P.jsxs)(d.d,{children:[Object(P.jsx)(d.b,{exact:!0,path:"/login",component:ve}),Object(P.jsx)(d.b,{exact:!0,path:"/signup",component:Ge}),Object(P.jsx)(d.b,{exact:!0,path:"/submit-design/:id",component:Me}),Object(P.jsx)(d.b,{exact:!0,path:"/profile",component:gt}),Object(P.jsx)(d.b,{exact:!0,path:"/messages",component:Lr}),Object(P.jsx)(d.b,{exact:!0,path:"/create-contest",component:Un}),Object(P.jsx)(d.b,{exact:!0,path:"/settings",component:Da}),Object(P.jsx)(d.b,{exact:!0,path:"/notifications",component:ka}),Object(P.jsx)(d.b,{exact:!0,path:"/contest/:id",component:Ra}),Object(P.jsx)(d.b,{exact:!0,path:"/forgot-password",component:Ga}),Object(P.jsx)(d.b,{path:"/reset-password/:token/:id",component:Va}),Object(P.jsx)(d.b,{exact:!0,path:"/artist",component:oa}),Object(P.jsx)(d.b,{exact:!0,path:"/dashboard",component:kn}),Object(P.jsx)(d.b,{path:"*",children:Object(P.jsx)(d.a,{to:"/dashboard"})})]})})})})})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(P.jsx)(Mr,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[566,1,2]]]);
//# sourceMappingURL=main.05a2e294.chunk.js.map